ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"main.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "main.cpp"
  19              		.section	.text._ZN5daisy9DaisySeedD2Ev,"axG",%progbits,_ZN5daisy9DaisySeedD5Ev,comdat
  20              		.align	1
  21              		.weak	_ZN5daisy9DaisySeedD2Ev
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ZN5daisy9DaisySeedD2Ev:
  27              	.LVL0:
  28              	.LFB2439:
  29              		.file 2 "../libDaisy/src/daisy_seed.h"
   1:../libDaisy/src/daisy_seed.h **** #pragma once
   2:../libDaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../libDaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../libDaisy/src/daisy_seed.h **** 
   5:../libDaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../libDaisy/src/daisy_seed.h **** 
   7:../libDaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../libDaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../libDaisy/src/daisy_seed.h **** 
  10:../libDaisy/src/daisy_seed.h **** namespace daisy
  11:../libDaisy/src/daisy_seed.h **** {
  12:../libDaisy/src/daisy_seed.h **** /**
  13:../libDaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../libDaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../libDaisy/src/daisy_seed.h **** 
  16:../libDaisy/src/daisy_seed.h ****    @ingroup boards
  17:../libDaisy/src/daisy_seed.h **** */
  18:../libDaisy/src/daisy_seed.h **** class DaisySeed
  19:../libDaisy/src/daisy_seed.h **** {
  20:../libDaisy/src/daisy_seed.h ****   public:
  21:../libDaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
  30              		.loc 2 22 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB150:
  36              	.LBI150:
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 2


  37              		.file 3 "../libDaisy/src/dev/codec_ak4556.h"
   1:../libDaisy/src/dev/codec_ak4556.h **** #pragma once
   2:../libDaisy/src/dev/codec_ak4556.h **** #ifndef DSY_CODEC_AK4556_H
   3:../libDaisy/src/dev/codec_ak4556.h **** #define DSY_CODEC_AK4556_H
   4:../libDaisy/src/dev/codec_ak4556.h **** 
   5:../libDaisy/src/dev/codec_ak4556.h **** #include "daisy_core.h"
   6:../libDaisy/src/dev/codec_ak4556.h **** #include "per/gpio.h"
   7:../libDaisy/src/dev/codec_ak4556.h **** 
   8:../libDaisy/src/dev/codec_ak4556.h **** namespace daisy
   9:../libDaisy/src/dev/codec_ak4556.h **** {
  10:../libDaisy/src/dev/codec_ak4556.h **** /** @brief Ak4556 Codec support 
  11:../libDaisy/src/dev/codec_ak4556.h ****  ** @author shensley
  12:../libDaisy/src/dev/codec_ak4556.h ****  ** @addtogroup codec
  13:../libDaisy/src/dev/codec_ak4556.h ****  ** 
  14:../libDaisy/src/dev/codec_ak4556.h ****  ** I don't see any real reason to have this be more than a function, but in case we want
  15:../libDaisy/src/dev/codec_ak4556.h ****  ** to add other functions down the road I wrapped the function in a class.
  16:../libDaisy/src/dev/codec_ak4556.h ****  ***/
  17:../libDaisy/src/dev/codec_ak4556.h **** class Ak4556
  18:../libDaisy/src/dev/codec_ak4556.h **** {
  19:../libDaisy/src/dev/codec_ak4556.h ****   public:
  20:../libDaisy/src/dev/codec_ak4556.h ****     Ak4556() {}
  21:../libDaisy/src/dev/codec_ak4556.h ****     ~Ak4556() {}
  38              		.loc 3 21 5 view .LVU1
  39              		.loc 3 21 5 is_stmt 0 view .LVU2
  40              	.LBE150:
  41              	.LBB151:
  42              	.LBI151:
  43              		.file 4 "../libDaisy/src/sys/system.h"
   1:../libDaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../libDaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../libDaisy/src/sys/system.h **** 
   4:../libDaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../libDaisy/src/sys/system.h **** 
   6:../libDaisy/src/sys/system.h **** #include <cstdint>
   7:../libDaisy/src/sys/system.h **** #include "per/tim.h"
   8:../libDaisy/src/sys/system.h **** 
   9:../libDaisy/src/sys/system.h **** namespace daisy
  10:../libDaisy/src/sys/system.h **** {
  11:../libDaisy/src/sys/system.h **** /** A handle for interacting with the Core System.
  12:../libDaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../libDaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../libDaisy/src/sys/system.h ****  **
  15:../libDaisy/src/sys/system.h ****  ** @author shensley
  16:../libDaisy/src/sys/system.h ****  ** @ingroup system
  17:../libDaisy/src/sys/system.h ****  */
  18:../libDaisy/src/sys/system.h **** class System
  19:../libDaisy/src/sys/system.h **** {
  20:../libDaisy/src/sys/system.h ****   public:
  21:../libDaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../libDaisy/src/sys/system.h ****     struct Config
  23:../libDaisy/src/sys/system.h ****     {
  24:../libDaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../libDaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../libDaisy/src/sys/system.h ****         {
  27:../libDaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../libDaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../libDaisy/src/sys/system.h ****         };
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 3


  30:../libDaisy/src/sys/system.h **** 
  31:../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../libDaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../libDaisy/src/sys/system.h ****          ** Cache Enabled
  34:../libDaisy/src/sys/system.h ****          ** */
  35:../libDaisy/src/sys/system.h ****         void Defaults()
  36:../libDaisy/src/sys/system.h ****         {
  37:../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../libDaisy/src/sys/system.h ****             use_dcache  = true;
  39:../libDaisy/src/sys/system.h ****             use_icache  = true;
  40:../libDaisy/src/sys/system.h ****             skip_clocks = false;
  41:../libDaisy/src/sys/system.h ****         }
  42:../libDaisy/src/sys/system.h **** 
  43:../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../libDaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../libDaisy/src/sys/system.h ****          ** Cache Enabled
  46:../libDaisy/src/sys/system.h ****          ** */
  47:../libDaisy/src/sys/system.h ****         void Boost()
  48:../libDaisy/src/sys/system.h ****         {
  49:../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../libDaisy/src/sys/system.h ****             use_dcache  = true;
  51:../libDaisy/src/sys/system.h ****             use_icache  = true;
  52:../libDaisy/src/sys/system.h ****             skip_clocks = false;
  53:../libDaisy/src/sys/system.h ****         }
  54:../libDaisy/src/sys/system.h **** 
  55:../libDaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../libDaisy/src/sys/system.h ****         bool       use_dcache;
  57:../libDaisy/src/sys/system.h ****         bool       use_icache;
  58:../libDaisy/src/sys/system.h ****         bool       skip_clocks;
  59:../libDaisy/src/sys/system.h ****     };
  60:../libDaisy/src/sys/system.h **** 
  61:../libDaisy/src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy */
  62:../libDaisy/src/sys/system.h ****     enum MemoryRegion
  63:../libDaisy/src/sys/system.h ****     {
  64:../libDaisy/src/sys/system.h ****         INTERNAL_FLASH = 0,
  65:../libDaisy/src/sys/system.h ****         ITCMRAM,
  66:../libDaisy/src/sys/system.h ****         DTCMRAM,
  67:../libDaisy/src/sys/system.h ****         SRAM_D1,
  68:../libDaisy/src/sys/system.h ****         SRAM_D2,
  69:../libDaisy/src/sys/system.h ****         SRAM_D3,
  70:../libDaisy/src/sys/system.h ****         SDRAM,
  71:../libDaisy/src/sys/system.h ****         QSPI,
  72:../libDaisy/src/sys/system.h ****         INVALID_ADDRESS,
  73:../libDaisy/src/sys/system.h ****     };
  74:../libDaisy/src/sys/system.h **** 
  75:../libDaisy/src/sys/system.h ****     /** Bootloader struct for controlling bootloading parameters */
  76:../libDaisy/src/sys/system.h ****     struct BootInfo
  77:../libDaisy/src/sys/system.h ****     {
  78:../libDaisy/src/sys/system.h ****         enum class Type : uint32_t
  79:../libDaisy/src/sys/system.h ****         {
  80:../libDaisy/src/sys/system.h ****             INVALID      = 0x00000000,
  81:../libDaisy/src/sys/system.h ****             JUMP         = 0xDEADBEEF,
  82:../libDaisy/src/sys/system.h ****             SKIP_TIMEOUT = 0x5AFEB007,
  83:../libDaisy/src/sys/system.h ****             INF_TIMEOUT  = 0xB0074EFA,
  84:../libDaisy/src/sys/system.h ****         } status;
  85:../libDaisy/src/sys/system.h ****         uint32_t data;
  86:../libDaisy/src/sys/system.h ****         enum class Version : uint32_t
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 4


  87:../libDaisy/src/sys/system.h ****         {
  88:../libDaisy/src/sys/system.h ****             LT_v6_0 = 0, // Less than v6.0
  89:../libDaisy/src/sys/system.h ****             NONE,        // No bootloader present
  90:../libDaisy/src/sys/system.h ****             v6_0,        // v6.0
  91:../libDaisy/src/sys/system.h ****             v6_1,        // v6.1 or greater
  92:../libDaisy/src/sys/system.h ****             LAST
  93:../libDaisy/src/sys/system.h ****         } version;
  94:../libDaisy/src/sys/system.h ****     };
  95:../libDaisy/src/sys/system.h **** 
  96:../libDaisy/src/sys/system.h ****     System() {}
  97:../libDaisy/src/sys/system.h ****     ~System() {}
  44              		.loc 4 97 5 is_stmt 1 view .LVU3
  45              		.loc 4 97 5 is_stmt 0 view .LVU4
  46              	.LBE151:
  47              	.LBB152:
  48              	.LBI152:
  49              		.file 5 "../libDaisy/src/hid/usb.h"
   1:../libDaisy/src/hid/usb.h **** #pragma once
   2:../libDaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../libDaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../libDaisy/src/hid/usb.h **** #include <stdint.h>
   5:../libDaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../libDaisy/src/hid/usb.h **** 
   7:../libDaisy/src/hid/usb.h **** namespace daisy
   8:../libDaisy/src/hid/usb.h **** /** @addtogroup human_interface
   9:../libDaisy/src/hid/usb.h ****     @{
  10:../libDaisy/src/hid/usb.h **** */
  11:../libDaisy/src/hid/usb.h **** 
  12:../libDaisy/src/hid/usb.h **** {
  13:../libDaisy/src/hid/usb.h **** /** 
  14:../libDaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../libDaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../libDaisy/src/hid/usb.h ****     @date December 2019
  17:../libDaisy/src/hid/usb.h **** */
  18:../libDaisy/src/hid/usb.h **** class UsbHandle
  19:../libDaisy/src/hid/usb.h **** {
  20:../libDaisy/src/hid/usb.h ****   public:
  21:../libDaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../libDaisy/src/hid/usb.h ****     enum class Result
  23:../libDaisy/src/hid/usb.h ****     {
  24:../libDaisy/src/hid/usb.h ****         OK,
  25:../libDaisy/src/hid/usb.h ****         ERR,
  26:../libDaisy/src/hid/usb.h ****     };
  27:../libDaisy/src/hid/usb.h **** 
  28:../libDaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../libDaisy/src/hid/usb.h ****     enum UsbPeriph
  30:../libDaisy/src/hid/usb.h ****     {
  31:../libDaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../libDaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../libDaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../libDaisy/src/hid/usb.h ****     };
  35:../libDaisy/src/hid/usb.h **** 
  36:../libDaisy/src/hid/usb.h **** 
  37:../libDaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../libDaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../libDaisy/src/hid/usb.h **** 
  40:../libDaisy/src/hid/usb.h ****     UsbHandle() {}
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 5


  41:../libDaisy/src/hid/usb.h **** 
  42:../libDaisy/src/hid/usb.h ****     ~UsbHandle() {}
  50              		.loc 5 42 5 is_stmt 1 view .LVU5
  51              		.loc 5 42 5 is_stmt 0 view .LVU6
  52              	.LBE152:
  53              	.LBB153:
  54              	.LBI153:
  55              		.file 6 "../libDaisy/src/per/adc.h"
   1:../libDaisy/src/per/adc.h **** #pragma once
   2:../libDaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../libDaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../libDaisy/src/per/adc.h **** #include <stdint.h>
   5:../libDaisy/src/per/adc.h **** #include <stdlib.h>
   6:../libDaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../libDaisy/src/per/adc.h **** #include "per/gpio.h"
   8:../libDaisy/src/per/adc.h **** 
   9:../libDaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../libDaisy/src/per/adc.h **** 
  11:../libDaisy/src/per/adc.h **** namespace daisy
  12:../libDaisy/src/per/adc.h **** {
  13:../libDaisy/src/per/adc.h **** /** @addtogroup per_analog
  14:../libDaisy/src/per/adc.h ****     @{
  15:../libDaisy/src/per/adc.h **** */
  16:../libDaisy/src/per/adc.h **** 
  17:../libDaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../libDaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../libDaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../libDaisy/src/per/adc.h **** */
  21:../libDaisy/src/per/adc.h **** 
  22:../libDaisy/src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../libDaisy/src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../libDaisy/src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../libDaisy/src/per/adc.h ****  *           one channel.
  26:../libDaisy/src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../libDaisy/src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../libDaisy/src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../libDaisy/src/per/adc.h ****  *           inputs connected.
  30:../libDaisy/src/per/adc.h **** */
  31:../libDaisy/src/per/adc.h **** struct AdcChannelConfig
  32:../libDaisy/src/per/adc.h **** {
  33:../libDaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../libDaisy/src/per/adc.h ****     enum MuxPin
  35:../libDaisy/src/per/adc.h ****     {
  36:../libDaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../libDaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../libDaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../libDaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../libDaisy/src/per/adc.h ****     };
  41:../libDaisy/src/per/adc.h **** 
  42:../libDaisy/src/per/adc.h ****     /** \brief per channel conversion speed added to fixed time based on bitdepth, etc. */
  43:../libDaisy/src/per/adc.h ****     enum ConversionSpeed
  44:../libDaisy/src/per/adc.h ****     {
  45:../libDaisy/src/per/adc.h ****         SPEED_1CYCLES_5,
  46:../libDaisy/src/per/adc.h ****         SPEED_2CYCLES_5,
  47:../libDaisy/src/per/adc.h ****         SPEED_8CYCLES_5,
  48:../libDaisy/src/per/adc.h ****         SPEED_16CYCLES_5,
  49:../libDaisy/src/per/adc.h ****         SPEED_32CYCLES_5,
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 6


  50:../libDaisy/src/per/adc.h ****         SPEED_64CYCLES_5,
  51:../libDaisy/src/per/adc.h ****         SPEED_387CYCLES_5,
  52:../libDaisy/src/per/adc.h ****         SPEED_810CYCLES_5,
  53:../libDaisy/src/per/adc.h ****     };
  54:../libDaisy/src/per/adc.h **** 
  55:../libDaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  56:../libDaisy/src/per/adc.h ****     \param pin Pin to init.
  57:../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  58:../libDaisy/src/per/adc.h ****      */
  59:../libDaisy/src/per/adc.h ****     void InitSingle(Pin pin, ConversionSpeed speed = SPEED_8CYCLES_5);
  60:../libDaisy/src/per/adc.h **** 
  61:../libDaisy/src/per/adc.h ****     /** 
  62:../libDaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  63:../libDaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  64:../libDaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  65:../libDaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  66:../libDaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  67:../libDaisy/src/per/adc.h ****     \param adc_pin &
  68:../libDaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  69:../libDaisy/src/per/adc.h ****     \param mux_0 First mux pin
  70:../libDaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  71:../libDaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  72:../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  73:../libDaisy/src/per/adc.h ****     */
  74:../libDaisy/src/per/adc.h ****     void InitMux(Pin             adc_pin,
  75:../libDaisy/src/per/adc.h ****                  size_t          mux_channels,
  76:../libDaisy/src/per/adc.h ****                  Pin             mux_0,
  77:../libDaisy/src/per/adc.h ****                  Pin             mux_1 = Pin(PORTX, 0),
  78:../libDaisy/src/per/adc.h ****                  Pin             mux_2 = Pin(PORTX, 0),
  79:../libDaisy/src/per/adc.h ****                  ConversionSpeed speed = SPEED_8CYCLES_5);
  80:../libDaisy/src/per/adc.h **** 
  81:../libDaisy/src/per/adc.h ****     GPIO            pin_;                   /**< & */
  82:../libDaisy/src/per/adc.h ****     GPIO            mux_pin_[MUX_SEL_LAST]; /**< & */
  83:../libDaisy/src/per/adc.h ****     uint8_t         mux_channels_;          /**< & */
  84:../libDaisy/src/per/adc.h ****     ConversionSpeed speed_;
  85:../libDaisy/src/per/adc.h **** };
  86:../libDaisy/src/per/adc.h **** 
  87:../libDaisy/src/per/adc.h **** /**
  88:../libDaisy/src/per/adc.h ****    @brief Handler for analog to digital conversion
  89:../libDaisy/src/per/adc.h **** */
  90:../libDaisy/src/per/adc.h **** class AdcHandle
  91:../libDaisy/src/per/adc.h **** {
  92:../libDaisy/src/per/adc.h ****   public:
  93:../libDaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  94:../libDaisy/src/per/adc.h ****     enum OverSampling
  95:../libDaisy/src/per/adc.h ****     {
  96:../libDaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  97:../libDaisy/src/per/adc.h ****         OVS_4,    /**< & */
  98:../libDaisy/src/per/adc.h ****         OVS_8,    /**< & */
  99:../libDaisy/src/per/adc.h ****         OVS_16,   /**< & */
 100:../libDaisy/src/per/adc.h ****         OVS_32,   /**< & */
 101:../libDaisy/src/per/adc.h ****         OVS_64,   /**< & */
 102:../libDaisy/src/per/adc.h ****         OVS_128,  /**< & */
 103:../libDaisy/src/per/adc.h ****         OVS_256,  /**< & */
 104:../libDaisy/src/per/adc.h ****         OVS_512,  /**< & */
 105:../libDaisy/src/per/adc.h ****         OVS_1024, /**< & */
 106:../libDaisy/src/per/adc.h ****         OVS_LAST, /**< & */
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 7


 107:../libDaisy/src/per/adc.h ****     };
 108:../libDaisy/src/per/adc.h **** 
 109:../libDaisy/src/per/adc.h ****     AdcHandle() {}
 110:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
  56              		.loc 6 110 5 is_stmt 1 view .LVU7
  57              		.loc 6 110 5 is_stmt 0 view .LVU8
  58              	.LBE153:
  59              	.LBB154:
  60              	.LBI154:
  61              		.file 7 "../libDaisy/src/hid/audio.h"
   1:../libDaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../libDaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../libDaisy/src/hid/audio.h **** 
   4:../libDaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../libDaisy/src/hid/audio.h **** 
   6:../libDaisy/src/hid/audio.h **** namespace daisy
   7:../libDaisy/src/hid/audio.h **** {
   8:../libDaisy/src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../libDaisy/src/hid/audio.h ****  *  @ingroup audio 
  10:../libDaisy/src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../libDaisy/src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../libDaisy/src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../libDaisy/src/hid/audio.h ****  *            is already taken  care of.
  14:../libDaisy/src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../libDaisy/src/hid/audio.h ****  *           you will have to take the following steps:
  16:../libDaisy/src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../libDaisy/src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../libDaisy/src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../libDaisy/src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../libDaisy/src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../libDaisy/src/hid/audio.h ****  */
  22:../libDaisy/src/hid/audio.h **** class AudioHandle
  23:../libDaisy/src/hid/audio.h **** {
  24:../libDaisy/src/hid/audio.h ****   public:
  25:../libDaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../libDaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../libDaisy/src/hid/audio.h ****     struct Config
  28:../libDaisy/src/hid/audio.h ****     {
  29:../libDaisy/src/hid/audio.h ****         /** number of samples to process per callback */
  30:../libDaisy/src/hid/audio.h ****         size_t blocksize = 48;
  31:../libDaisy/src/hid/audio.h **** 
  32:../libDaisy/src/hid/audio.h ****         /**< Sample rate of audio */
  33:../libDaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate
  34:../libDaisy/src/hid/audio.h ****             = SaiHandle::Config::SampleRate::SAI_48KHZ;
  35:../libDaisy/src/hid/audio.h **** 
  36:../libDaisy/src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  37:../libDaisy/src/hid/audio.h ****         float postgain = 1.f;
  38:../libDaisy/src/hid/audio.h **** 
  39:../libDaisy/src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  40:../libDaisy/src/hid/audio.h ****          *  have unequal input/output ranges
  41:../libDaisy/src/hid/audio.h ****          */
  42:../libDaisy/src/hid/audio.h ****         float output_compensation = 1.f;
  43:../libDaisy/src/hid/audio.h ****     };
  44:../libDaisy/src/hid/audio.h **** 
  45:../libDaisy/src/hid/audio.h ****     enum class Result
  46:../libDaisy/src/hid/audio.h ****     {
  47:../libDaisy/src/hid/audio.h ****         OK,
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 8


  48:../libDaisy/src/hid/audio.h ****         ERR,
  49:../libDaisy/src/hid/audio.h ****     };
  50:../libDaisy/src/hid/audio.h **** 
  51:../libDaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  52:../libDaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  53:../libDaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  54:../libDaisy/src/hid/audio.h ****      */
  55:../libDaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  56:../libDaisy/src/hid/audio.h **** 
  57:../libDaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  58:../libDaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  59:../libDaisy/src/hid/audio.h ****      */
  60:../libDaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  61:../libDaisy/src/hid/audio.h **** 
  62:../libDaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  63:../libDaisy/src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  64:../libDaisy/src/hid/audio.h ****      */
  65:../libDaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  66:../libDaisy/src/hid/audio.h ****                                   OutputBuffer out,
  67:../libDaisy/src/hid/audio.h ****                                   size_t       size);
  68:../libDaisy/src/hid/audio.h **** 
  69:../libDaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  70:../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  71:../libDaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  72:../libDaisy/src/hid/audio.h ****     */
  73:../libDaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  74:../libDaisy/src/hid/audio.h **** 
  75:../libDaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  76:../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  77:../libDaisy/src/hid/audio.h ****     */
  78:../libDaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  79:../libDaisy/src/hid/audio.h **** 
  80:../libDaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  81:../libDaisy/src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  82:../libDaisy/src/hid/audio.h ****      */
  83:../libDaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  84:../libDaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  85:../libDaisy/src/hid/audio.h ****                                               size_t                   size);
  86:../libDaisy/src/hid/audio.h **** 
  87:../libDaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  88:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
  62              		.loc 7 88 5 is_stmt 1 view .LVU9
  63              		.loc 7 88 5 is_stmt 0 view .LVU10
  64              	.LBE154:
  65              		.loc 2 22 19 view .LVU11
  66 0000 7047     		bx	lr
  67              		.cfi_endproc
  68              	.LFE2439:
  70              		.weak	_ZN5daisy9DaisySeedD1Ev
  71              		.thumb_set _ZN5daisy9DaisySeedD1Ev,_ZN5daisy9DaisySeedD2Ev
  72              		.section	.rodata.main.str1.4,"aMS",%progbits,1
  73              		.align	2
  74              	.LC0:
  75 0000 53544152 		.ascii	"STARTING ADC TEMP TEST\000"
  75      54494E47 
  75      20414443 
  75      2054454D 
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 9


  75      50205445 
  76 0017 00       		.align	2
  77              	.LC1:
  78 0018 25752025 		.ascii	"%u %u\000"
  78      7500
  79              		.section	.text.main,"ax",%progbits
  80              		.align	1
  81              		.global	main
  82              		.syntax unified
  83              		.thumb
  84              		.thumb_func
  86              	main:
  87              	.LFB2444:
   1:main.cpp      **** #include "main.h"
   2:main.cpp      **** #include "stm32h7xx_hal.h"
   3:main.cpp      **** #include "daisy_seed.h"
   4:main.cpp      **** #include "per/adc.h"
   5:main.cpp      **** #include "stm32h7xx_hal_adc.h"
   6:main.cpp      **** #include "adctemp.h"
   7:main.cpp      **** 
   8:main.cpp      **** using namespace daisy;
   9:main.cpp      **** using namespace daisy::seed;
  10:main.cpp      **** using namespace std;
  11:main.cpp      **** 
  12:main.cpp      **** DaisySeed		hw;
  13:main.cpp      **** ADC_HandleTypeDef hadc3;
  14:main.cpp      **** DMA_HandleTypeDef hdma_adc3;
  15:main.cpp      **** 
  16:main.cpp      **** volatile uint16_t vtempbuff[10] = {0};
  17:main.cpp      **** uint8_t flag = 0;
  18:main.cpp      **** 
  19:main.cpp      **** int main(){
  88              		.loc 1 19 11 is_stmt 1 view -0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 32
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  93              		.cfi_def_cfa_offset 20
  94              		.cfi_offset 4, -20
  95              		.cfi_offset 5, -16
  96              		.cfi_offset 6, -12
  97              		.cfi_offset 7, -8
  98              		.cfi_offset 14, -4
  99 0002 89B0     		sub	sp, sp, #36
 100              		.cfi_def_cfa_offset 56
  20:main.cpp      **** 	hw.Init(false);
 101              		.loc 1 20 2 view .LVU13
 102              		.loc 1 20 9 is_stmt 0 view .LVU14
 103 0004 0021     		movs	r1, #0
 104 0006 4748     		ldr	r0, .L5
 105 0008 FFF7FEFF 		bl	_ZN5daisy9DaisySeed4InitEb
 106              	.LVL1:
  21:main.cpp      **** 
  22:main.cpp      **** 	ADC_ChannelConfTypeDef cfg = {0};
 107              		.loc 1 22 2 is_stmt 1 view .LVU15
 108              		.loc 1 22 25 is_stmt 0 view .LVU16
 109 000c 0024     		movs	r4, #0
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 10


 110 000e 0194     		str	r4, [sp, #4]
 111 0010 0294     		str	r4, [sp, #8]
 112 0012 0394     		str	r4, [sp, #12]
 113 0014 0494     		str	r4, [sp, #16]
 114 0016 0594     		str	r4, [sp, #20]
 115 0018 0694     		str	r4, [sp, #24]
 116 001a 0794     		str	r4, [sp, #28]
  23:main.cpp      **** 
  24:main.cpp      ****     hadc3.Instance                  = ADC3;
 117              		.loc 1 24 5 is_stmt 1 view .LVU17
 118              		.loc 1 24 37 is_stmt 0 view .LVU18
 119 001c 424D     		ldr	r5, .L5+4
 120 001e 434B     		ldr	r3, .L5+8
 121 0020 2B60     		str	r3, [r5]
  25:main.cpp      ****     hadc3.Init.ClockPrescaler       = ADC_CLOCK_ASYNC_DIV2;
 122              		.loc 1 25 5 is_stmt 1 view .LVU19
 123              		.loc 1 25 37 is_stmt 0 view .LVU20
 124 0022 4FF48023 		mov	r3, #262144
 125 0026 6B60     		str	r3, [r5, #4]
  26:main.cpp      ****     hadc3.Init.Resolution           = ADC_RESOLUTION_16B;
 126              		.loc 1 26 5 is_stmt 1 view .LVU21
 127              		.loc 1 26 37 is_stmt 0 view .LVU22
 128 0028 AC60     		str	r4, [r5, #8]
  27:main.cpp      ****     hadc3.Init.ScanConvMode         = ADC_SCAN_ENABLE;
 129              		.loc 1 27 5 is_stmt 1 view .LVU23
 130              		.loc 1 27 37 is_stmt 0 view .LVU24
 131 002a 0126     		movs	r6, #1
 132 002c EE60     		str	r6, [r5, #12]
  28:main.cpp      ****     hadc3.Init.EOCSelection         = ADC_EOC_SEQ_CONV;
 133              		.loc 1 28 5 is_stmt 1 view .LVU25
 134              		.loc 1 28 37 is_stmt 0 view .LVU26
 135 002e 0823     		movs	r3, #8
 136 0030 2B61     		str	r3, [r5, #16]
  29:main.cpp      ****     hadc3.Init.LowPowerAutoWait     = DISABLE;
 137              		.loc 1 29 5 is_stmt 1 view .LVU27
 138              		.loc 1 29 37 is_stmt 0 view .LVU28
 139 0032 2C75     		strb	r4, [r5, #20]
  30:main.cpp      ****     hadc3.Init.NbrOfConversion      = 2;
 140              		.loc 1 30 5 is_stmt 1 view .LVU29
 141              		.loc 1 30 37 is_stmt 0 view .LVU30
 142 0034 0227     		movs	r7, #2
 143 0036 AF61     		str	r7, [r5, #24]
  31:main.cpp      ****     hadc3.Init.ExternalTrigConv     = ADC_SOFTWARE_START;
 144              		.loc 1 31 5 is_stmt 1 view .LVU31
 145              		.loc 1 31 37 is_stmt 0 view .LVU32
 146 0038 6C62     		str	r4, [r5, #36]
  32:main.cpp      ****     hadc3.Init.ExternalTrigConvEdge = ADC_EXTERNALTRIGCONVEDGE_NONE;
 147              		.loc 1 32 5 is_stmt 1 view .LVU33
 148              		.loc 1 32 37 is_stmt 0 view .LVU34
 149 003a AC62     		str	r4, [r5, #40]
  33:main.cpp      **** 	hadc3.Init.ContinuousConvMode    = DISABLE;
 150              		.loc 1 33 2 is_stmt 1 view .LVU35
 151              		.loc 1 33 35 is_stmt 0 view .LVU36
 152 003c 6C75     		strb	r4, [r5, #21]
  34:main.cpp      **** 	hadc3.Init.DiscontinuousConvMode = DISABLE;
 153              		.loc 1 34 2 is_stmt 1 view .LVU37
 154              		.loc 1 34 35 is_stmt 0 view .LVU38
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 11


 155 003e 2C77     		strb	r4, [r5, #28]
  35:main.cpp      **** 	hadc3.Init.ConversionDataManagement = ADC_CONVERSIONDATA_DR;
 156              		.loc 1 35 2 is_stmt 1 view .LVU39
 157              		.loc 1 35 38 is_stmt 0 view .LVU40
 158 0040 EC62     		str	r4, [r5, #44]
  36:main.cpp      **** 	hadc3.Init.Overrun      = ADC_OVR_DATA_PRESERVED;
 159              		.loc 1 36 2 is_stmt 1 view .LVU41
 160              		.loc 1 36 26 is_stmt 0 view .LVU42
 161 0042 2C63     		str	r4, [r5, #48]
  37:main.cpp      ****     hadc3.Init.LeftBitShift = ADC_LEFTBITSHIFT_NONE;
 162              		.loc 1 37 5 is_stmt 1 view .LVU43
 163              		.loc 1 37 29 is_stmt 0 view .LVU44
 164 0044 6C63     		str	r4, [r5, #52]
  38:main.cpp      **** 	hadc3.Init.OversamplingMode = DISABLE;
 165              		.loc 1 38 2 is_stmt 1 view .LVU45
 166              		.loc 1 38 30 is_stmt 0 view .LVU46
 167 0046 85F83840 		strb	r4, [r5, #56]
  39:main.cpp      **** 	HAL_ADC_Init(&hadc3);   
 168              		.loc 1 39 2 is_stmt 1 view .LVU47
 169              		.loc 1 39 14 is_stmt 0 view .LVU48
 170 004a 2846     		mov	r0, r5
 171 004c FFF7FEFF 		bl	HAL_ADC_Init
 172              	.LVL2:
  40:main.cpp      **** 	HAL_ADCEx_Calibration_Start(&hadc3, ADC_CALIB_OFFSET_LINEARITY, ADC_SINGLE_ENDED);
 173              		.loc 1 40 2 is_stmt 1 view .LVU49
 174              		.loc 1 40 29 is_stmt 0 view .LVU50
 175 0050 40F2FF72 		movw	r2, #2047
 176 0054 4FF00111 		mov	r1, #65537
 177 0058 2846     		mov	r0, r5
 178 005a FFF7FEFF 		bl	HAL_ADCEx_Calibration_Start
 179              	.LVL3:
  41:main.cpp      **** 
  42:main.cpp      **** 	cfg.Channel = ADC_CHANNEL_VREFINT;
 180              		.loc 1 42 2 is_stmt 1 view .LVU51
 181              		.loc 1 42 14 is_stmt 0 view .LVU52
 182 005e 344B     		ldr	r3, .L5+12
 183 0060 0193     		str	r3, [sp, #4]
  43:main.cpp      **** 	cfg.Rank = ADC_REGULAR_RANK_1;
 184              		.loc 1 43 2 is_stmt 1 view .LVU53
 185              		.loc 1 43 11 is_stmt 0 view .LVU54
 186 0062 0623     		movs	r3, #6
 187 0064 0293     		str	r3, [sp, #8]
  44:main.cpp      **** 	cfg.SamplingTime = ADC_SAMPLETIME_387CYCLES_5;
 188              		.loc 1 44 2 is_stmt 1 view .LVU55
 189              		.loc 1 44 19 is_stmt 0 view .LVU56
 190 0066 0393     		str	r3, [sp, #12]
  45:main.cpp      **** 	cfg.SingleDiff = ADC_SINGLE_ENDED;
 191              		.loc 1 45 2 is_stmt 1 view .LVU57
 192              		.loc 1 45 17 is_stmt 0 view .LVU58
 193 0068 40F2FF73 		movw	r3, #2047
 194 006c 0493     		str	r3, [sp, #16]
  46:main.cpp      **** 	cfg.OffsetNumber = ADC_OFFSET_NONE;
 195              		.loc 1 46 2 is_stmt 1 view .LVU59
 196              		.loc 1 46 19 is_stmt 0 view .LVU60
 197 006e 0423     		movs	r3, #4
 198 0070 0593     		str	r3, [sp, #20]
  47:main.cpp      **** 	cfg.Offset = 0;
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 12


 199              		.loc 1 47 2 is_stmt 1 view .LVU61
 200              		.loc 1 47 13 is_stmt 0 view .LVU62
 201 0072 0694     		str	r4, [sp, #24]
  48:main.cpp      **** 	cfg.OffsetSignedSaturation = DISABLE;
 202              		.loc 1 48 2 is_stmt 1 view .LVU63
 203              		.loc 1 48 29 is_stmt 0 view .LVU64
 204 0074 8DF81D40 		strb	r4, [sp, #29]
  49:main.cpp      **** 	HAL_ADC_ConfigChannel(&hadc3, &cfg);
 205              		.loc 1 49 2 is_stmt 1 view .LVU65
 206              		.loc 1 49 23 is_stmt 0 view .LVU66
 207 0078 0DEB0301 		add	r1, sp, r3
 208 007c 2846     		mov	r0, r5
 209 007e FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 210              	.LVL4:
  50:main.cpp      **** 
  51:main.cpp      **** 	cfg.Channel = ADC_CHANNEL_TEMPSENSOR;
 211              		.loc 1 51 2 is_stmt 1 view .LVU67
 212              		.loc 1 51 14 is_stmt 0 view .LVU68
 213 0082 2C4B     		ldr	r3, .L5+16
 214 0084 0193     		str	r3, [sp, #4]
  52:main.cpp      **** 	cfg.Rank = ADC_REGULAR_RANK_2;
 215              		.loc 1 52 2 is_stmt 1 view .LVU69
 216              		.loc 1 52 11 is_stmt 0 view .LVU70
 217 0086 0C23     		movs	r3, #12
 218 0088 0293     		str	r3, [sp, #8]
  53:main.cpp      **** 	HAL_ADC_ConfigChannel(&hadc3, &cfg);
 219              		.loc 1 53 2 is_stmt 1 view .LVU71
 220              		.loc 1 53 23 is_stmt 0 view .LVU72
 221 008a 01A9     		add	r1, sp, #4
 222 008c 2846     		mov	r0, r5
 223 008e FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 224              	.LVL5:
  54:main.cpp      **** 
  55:main.cpp      **** 	
  56:main.cpp      **** 
  57:main.cpp      **** 	vtempbuff[0] = 1;
 225              		.loc 1 57 2 is_stmt 1 view .LVU73
 226              		.loc 1 57 15 is_stmt 0 view .LVU74
 227 0092 294B     		ldr	r3, .L5+20
 228 0094 1E80     		strh	r6, [r3]	@ movhi
  58:main.cpp      **** 	vtempbuff[1] = 2;
 229              		.loc 1 58 2 is_stmt 1 view .LVU75
 230              		.loc 1 58 15 is_stmt 0 view .LVU76
 231 0096 5F80     		strh	r7, [r3, #2]	@ movhi
  59:main.cpp      **** 
  60:main.cpp      **** 	hw.StartLog(true);
 232              		.loc 1 60 2 is_stmt 1 view .LVU77
 233              	.LVL6:
 234              	.LBB155:
 235              	.LBI155:
  23:../libDaisy/src/daisy_seed.h **** 
  24:../libDaisy/src/daisy_seed.h ****     /** This function used to provide a pre-initialization configuraiton 
  25:../libDaisy/src/daisy_seed.h ****      *  it has since been deprecated, and does nothing.
  26:../libDaisy/src/daisy_seed.h ****      */
  27:../libDaisy/src/daisy_seed.h ****     void Configure();
  28:../libDaisy/src/daisy_seed.h **** 
  29:../libDaisy/src/daisy_seed.h ****     /** 
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 13


  30:../libDaisy/src/daisy_seed.h ****     Initializes the Daisy Seed and the following peripherals:
  31:../libDaisy/src/daisy_seed.h ****     SDRAM, QSPI, 24-bit 48kHz Audio via AK4556, Internal USB,
  32:../libDaisy/src/daisy_seed.h ****     as well as the built-in LED and Testpoint.
  33:../libDaisy/src/daisy_seed.h **** 
  34:../libDaisy/src/daisy_seed.h ****     ADCs, DACs, and other special peripherals (such as I2C, SPI, etc.)
  35:../libDaisy/src/daisy_seed.h ****     can be initialized using their specific initializers within libdaisy
  36:../libDaisy/src/daisy_seed.h ****     for a specific application.
  37:../libDaisy/src/daisy_seed.h ****     */
  38:../libDaisy/src/daisy_seed.h ****     void Init(bool boost = false);
  39:../libDaisy/src/daisy_seed.h **** 
  40:../libDaisy/src/daisy_seed.h ****     /** 
  41:../libDaisy/src/daisy_seed.h ****     Deinitializes all peripherals automatically handled by `Init`.
  42:../libDaisy/src/daisy_seed.h ****     */
  43:../libDaisy/src/daisy_seed.h ****     void DeInit();
  44:../libDaisy/src/daisy_seed.h **** 
  45:../libDaisy/src/daisy_seed.h ****     /** 
  46:../libDaisy/src/daisy_seed.h ****     Wait some ms before going on.
  47:../libDaisy/src/daisy_seed.h ****     \param del Delay time in ms.
  48:../libDaisy/src/daisy_seed.h ****     */
  49:../libDaisy/src/daisy_seed.h ****     void DelayMs(size_t del);
  50:../libDaisy/src/daisy_seed.h **** 
  51:../libDaisy/src/daisy_seed.h ****     /** 
  52:../libDaisy/src/daisy_seed.h ****     Returns the gpio_pin corresponding to the index 0-31.
  53:../libDaisy/src/daisy_seed.h ****     For the given GPIO on the Daisy Seed (labeled 1-32 in docs).
  54:../libDaisy/src/daisy_seed.h ****     */
  55:../libDaisy/src/daisy_seed.h ****     static Pin GetPin(uint8_t pin_idx);
  56:../libDaisy/src/daisy_seed.h **** 
  57:../libDaisy/src/daisy_seed.h ****     /** Begins the audio for the seeds builtin audio.
  58:../libDaisy/src/daisy_seed.h ****     the specified callback will get called whenever
  59:../libDaisy/src/daisy_seed.h ****     new data is ready to be prepared.
  60:../libDaisy/src/daisy_seed.h ****     */
  61:../libDaisy/src/daisy_seed.h ****     void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  62:../libDaisy/src/daisy_seed.h **** 
  63:../libDaisy/src/daisy_seed.h ****     /** Begins the audio for the seeds builtin audio.
  64:../libDaisy/src/daisy_seed.h ****     the specified callback will get called whenever
  65:../libDaisy/src/daisy_seed.h ****     new data is ready to be prepared.
  66:../libDaisy/src/daisy_seed.h ****     This will use the newer non-interleaved callback.
  67:../libDaisy/src/daisy_seed.h ****     */
  68:../libDaisy/src/daisy_seed.h ****     void StartAudio(AudioHandle::AudioCallback cb);
  69:../libDaisy/src/daisy_seed.h **** 
  70:../libDaisy/src/daisy_seed.h ****     /** Changes to a new interleaved callback
  71:../libDaisy/src/daisy_seed.h ****      */
  72:../libDaisy/src/daisy_seed.h ****     void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  73:../libDaisy/src/daisy_seed.h **** 
  74:../libDaisy/src/daisy_seed.h ****     /** Changes to a new multichannel callback
  75:../libDaisy/src/daisy_seed.h ****      */
  76:../libDaisy/src/daisy_seed.h ****     void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  77:../libDaisy/src/daisy_seed.h **** 
  78:../libDaisy/src/daisy_seed.h ****     /** Stops the audio if it is running. */
  79:../libDaisy/src/daisy_seed.h ****     void StopAudio();
  80:../libDaisy/src/daisy_seed.h **** 
  81:../libDaisy/src/daisy_seed.h ****     /** Updates the Audio Sample Rate, and reinitializes.
  82:../libDaisy/src/daisy_seed.h ****      ** Audio must be stopped for this to work.
  83:../libDaisy/src/daisy_seed.h ****      */
  84:../libDaisy/src/daisy_seed.h ****     void SetAudioSampleRate(SaiHandle::Config::SampleRate samplerate);
  85:../libDaisy/src/daisy_seed.h **** 
  86:../libDaisy/src/daisy_seed.h ****     /** Returns the audio sample rate in Hz as a floating point number.
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 14


  87:../libDaisy/src/daisy_seed.h ****      */
  88:../libDaisy/src/daisy_seed.h ****     float AudioSampleRate();
  89:../libDaisy/src/daisy_seed.h **** 
  90:../libDaisy/src/daisy_seed.h ****     /** Sets the number of samples processed per channel by the audio callback.
  91:../libDaisy/src/daisy_seed.h ****      */
  92:../libDaisy/src/daisy_seed.h ****     void SetAudioBlockSize(size_t blocksize);
  93:../libDaisy/src/daisy_seed.h **** 
  94:../libDaisy/src/daisy_seed.h ****     /** Returns the number of samples per channel in a block of audio. */
  95:../libDaisy/src/daisy_seed.h ****     size_t AudioBlockSize();
  96:../libDaisy/src/daisy_seed.h **** 
  97:../libDaisy/src/daisy_seed.h ****     /** Returns the rate in Hz that the Audio callback is called */
  98:../libDaisy/src/daisy_seed.h ****     float AudioCallbackRate() const;
  99:../libDaisy/src/daisy_seed.h **** 
 100:../libDaisy/src/daisy_seed.h ****     /** Returns the SAI Handle for the Daisy Seed 
 101:../libDaisy/src/daisy_seed.h ****      *  This can be useful when adding a secondary codec,
 102:../libDaisy/src/daisy_seed.h ****      *  the result of this function can be passed to the audio reinit 
 103:../libDaisy/src/daisy_seed.h ****      *  with an SAI2 configuration
 104:../libDaisy/src/daisy_seed.h ****      */
 105:../libDaisy/src/daisy_seed.h ****     const SaiHandle& AudioSaiHandle() const;
 106:../libDaisy/src/daisy_seed.h **** 
 107:../libDaisy/src/daisy_seed.h ****     /** Sets the state of the built in LED
 108:../libDaisy/src/daisy_seed.h ****      */
 109:../libDaisy/src/daisy_seed.h ****     void SetLed(bool state);
 110:../libDaisy/src/daisy_seed.h **** 
 111:../libDaisy/src/daisy_seed.h ****     /** Sets the state of the test point near pin 10
 112:../libDaisy/src/daisy_seed.h ****      */
 113:../libDaisy/src/daisy_seed.h ****     void SetTestPoint(bool state);
 114:../libDaisy/src/daisy_seed.h **** 
 115:../libDaisy/src/daisy_seed.h ****     /** Print formatted debug log message
 116:../libDaisy/src/daisy_seed.h ****      */
 117:../libDaisy/src/daisy_seed.h ****     template <typename... VA>
 118:../libDaisy/src/daisy_seed.h ****     static void Print(const char* format, VA... va)
 119:../libDaisy/src/daisy_seed.h ****     {
 120:../libDaisy/src/daisy_seed.h ****         Log::Print(format, va...);
 121:../libDaisy/src/daisy_seed.h ****     }
 122:../libDaisy/src/daisy_seed.h **** 
 123:../libDaisy/src/daisy_seed.h ****     /** Print formatted debug log message with automatic line termination
 124:../libDaisy/src/daisy_seed.h ****     */
 125:../libDaisy/src/daisy_seed.h ****     template <typename... VA>
 126:../libDaisy/src/daisy_seed.h ****     static void PrintLine(const char* format, VA... va)
 127:../libDaisy/src/daisy_seed.h ****     {
 128:../libDaisy/src/daisy_seed.h ****         Log::PrintLine(format, va...);
 129:../libDaisy/src/daisy_seed.h ****     }
 130:../libDaisy/src/daisy_seed.h **** 
 131:../libDaisy/src/daisy_seed.h ****     /** Start the logging session. Optionally wait for terminal connection before proceeding.
 132:../libDaisy/src/daisy_seed.h ****     */
 133:../libDaisy/src/daisy_seed.h ****     static void StartLog(bool wait_for_pc = false)
 236              		.loc 2 133 17 view .LVU78
 237              	.LBB156:
 134:../libDaisy/src/daisy_seed.h ****     {
 135:../libDaisy/src/daisy_seed.h ****         Log::StartLog(wait_for_pc);
 238              		.loc 2 135 9 view .LVU79
 239              		.loc 2 135 22 is_stmt 0 view .LVU80
 240 0098 3046     		mov	r0, r6
 241 009a FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
 242              	.LVL7:
 243              		.loc 2 135 22 view .LVU81
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 15


 244              	.LBE156:
 245              	.LBE155:
  61:main.cpp      **** 	hw.PrintLine("STARTING ADC TEMP TEST");
 246              		.loc 1 61 2 is_stmt 1 view .LVU82
 247              	.LBB157:
 248              	.LBI157:
 126:../libDaisy/src/daisy_seed.h ****     {
 249              		.loc 2 126 17 view .LVU83
 250              	.LBB158:
 128:../libDaisy/src/daisy_seed.h ****     }
 251              		.loc 2 128 23 is_stmt 0 view .LVU84
 252 009e 2748     		ldr	r0, .L5+24
 253 00a0 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 254              	.LVL8:
 128:../libDaisy/src/daisy_seed.h ****     }
 255              		.loc 2 128 23 view .LVU85
 256              	.LBE158:
 257              	.LBE157:
  62:main.cpp      **** 	
  63:main.cpp      **** 
  64:main.cpp      **** 	bool led = 0;
 258              		.loc 1 64 2 is_stmt 1 view .LVU86
 259              	.L3:
  65:main.cpp      **** 	while (1)
 260              		.loc 1 65 2 discriminator 1 view .LVU87
 261              	.LBB159:
  66:main.cpp      **** 	{
  67:main.cpp      **** 		//if(flag){
  68:main.cpp      **** 
  69:main.cpp      **** 			HAL_ADC_Start(&hadc3);
 262              		.loc 1 69 4 discriminator 1 view .LVU88
 263              		.loc 1 69 17 is_stmt 0 discriminator 1 view .LVU89
 264 00a4 204E     		ldr	r6, .L5+4
 265 00a6 3046     		mov	r0, r6
 266 00a8 FFF7FEFF 		bl	HAL_ADC_Start
 267              	.LVL9:
  70:main.cpp      **** 			vtempbuff[0] = HAL_ADC_GetValue(&hadc3);
 268              		.loc 1 70 4 is_stmt 1 discriminator 1 view .LVU90
 269              		.loc 1 70 35 is_stmt 0 discriminator 1 view .LVU91
 270 00ac 3046     		mov	r0, r6
 271 00ae FFF7FEFF 		bl	HAL_ADC_GetValue
 272              	.LVL10:
 273              		.loc 1 70 17 discriminator 1 view .LVU92
 274 00b2 80B2     		uxth	r0, r0
 275 00b4 204D     		ldr	r5, .L5+20
 276 00b6 2880     		strh	r0, [r5]	@ movhi
  71:main.cpp      **** 			HAL_ADC_Start(&hadc3);
 277              		.loc 1 71 4 is_stmt 1 discriminator 1 view .LVU93
 278              		.loc 1 71 17 is_stmt 0 discriminator 1 view .LVU94
 279 00b8 3046     		mov	r0, r6
 280 00ba FFF7FEFF 		bl	HAL_ADC_Start
 281              	.LVL11:
  72:main.cpp      **** 			vtempbuff[1] = HAL_ADC_GetValue(&hadc3);
 282              		.loc 1 72 4 is_stmt 1 discriminator 1 view .LVU95
 283              		.loc 1 72 35 is_stmt 0 discriminator 1 view .LVU96
 284 00be 3046     		mov	r0, r6
 285 00c0 FFF7FEFF 		bl	HAL_ADC_GetValue
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 16


 286              	.LVL12:
 287              		.loc 1 72 17 discriminator 1 view .LVU97
 288 00c4 80B2     		uxth	r0, r0
 289 00c6 6880     		strh	r0, [r5, #2]	@ movhi
  73:main.cpp      **** 			uint32_t vrefint = __HAL_ADC_CALC_VREFANALOG_VOLTAGE(vtempbuff[0], ADC_RESOLUTION_16B);
 290              		.loc 1 73 4 is_stmt 1 discriminator 1 view .LVU98
 291              		.loc 1 73 23 is_stmt 0 discriminator 1 view .LVU99
 292 00c8 1D4B     		ldr	r3, .L5+28
 293 00ca B3F86010 		ldrh	r1, [r3, #96]
 294 00ce 40F6E442 		movw	r2, #3300
 295 00d2 02FB01F1 		mul	r1, r2, r1
 296 00d6 2A88     		ldrh	r2, [r5]
 297 00d8 92B2     		uxth	r2, r2
 298 00da B1FBF2F1 		udiv	r1, r1, r2
 299              	.LVL13:
  74:main.cpp      **** 			uint32_t temp = __HAL_ADC_CALC_TEMPERATURE(vrefint, vtempbuff[1], ADC_RESOLUTION_16B);
 300              		.loc 1 74 4 is_stmt 1 discriminator 1 view .LVU100
 301              		.loc 1 74 20 is_stmt 0 discriminator 1 view .LVU101
 302 00de 6A88     		ldrh	r2, [r5, #2]
 303 00e0 92B2     		uxth	r2, r2
 304 00e2 01FB02F2 		mul	r2, r1, r2
 305 00e6 9208     		lsrs	r2, r2, #2
 306 00e8 1648     		ldr	r0, .L5+32
 307 00ea A0FB0202 		umull	r0, r2, r0, r2
 308 00ee 188C     		ldrh	r0, [r3, #32]
 309 00f0 C0EB5212 		rsb	r2, r0, r2, lsr #5
 310 00f4 02EB8202 		add	r2, r2, r2, lsl #2
 311 00f8 1201     		lsls	r2, r2, #4
 312 00fa B3F84030 		ldrh	r3, [r3, #64]
 313 00fe 1B1A     		subs	r3, r3, r0
 314 0100 92FBF3F2 		sdiv	r2, r2, r3
 315              	.LVL14:
  75:main.cpp      **** 
  76:main.cpp      **** 			hw.PrintLine("%u %u", vrefint, temp);
 316              		.loc 1 76 4 is_stmt 1 discriminator 1 view .LVU102
 317              	.LBB160:
 318              	.LBI160:
 126:../libDaisy/src/daisy_seed.h ****     {
 319              		.loc 2 126 17 discriminator 1 view .LVU103
 320              	.LBB161:
 128:../libDaisy/src/daisy_seed.h ****     }
 321              		.loc 2 128 23 is_stmt 0 discriminator 1 view .LVU104
 322 0104 1E32     		adds	r2, r2, #30
 323              	.LVL15:
 128:../libDaisy/src/daisy_seed.h ****     }
 324              		.loc 2 128 23 discriminator 1 view .LVU105
 325 0106 1048     		ldr	r0, .L5+36
 326 0108 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 327              	.LVL16:
 128:../libDaisy/src/daisy_seed.h ****     }
 328              		.loc 2 128 23 discriminator 1 view .LVU106
 329              	.LBE161:
 330              	.LBE160:
  77:main.cpp      **** 			hw.SetLed(led ^= 1);
 331              		.loc 1 77 4 is_stmt 1 discriminator 1 view .LVU107
 332              		.loc 1 77 18 is_stmt 0 discriminator 1 view .LVU108
 333 010c 84F00104 		eor	r4, r4, #1
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 17


 334              	.LVL17:
 335              		.loc 1 77 13 discriminator 1 view .LVU109
 336 0110 044D     		ldr	r5, .L5
 337 0112 2146     		mov	r1, r4
 338 0114 2846     		mov	r0, r5
 339 0116 FFF7FEFF 		bl	_ZN5daisy9DaisySeed6SetLedEb
 340              	.LVL18:
  78:main.cpp      **** 			hw.DelayMs(10);
 341              		.loc 1 78 4 is_stmt 1 discriminator 1 view .LVU110
 342              		.loc 1 78 14 is_stmt 0 discriminator 1 view .LVU111
 343 011a 0A21     		movs	r1, #10
 344 011c 2846     		mov	r0, r5
 345 011e FFF7FEFF 		bl	_ZN5daisy9DaisySeed7DelayMsEj
 346              	.LVL19:
 347              	.LBE159:
  65:main.cpp      **** 	{
 348              		.loc 1 65 2 is_stmt 1 discriminator 1 view .LVU112
 349 0122 BFE7     		b	.L3
 350              	.L6:
 351              		.align	2
 352              	.L5:
 353 0124 00000000 		.word	hw
 354 0128 00000000 		.word	hadc3
 355 012c 00600258 		.word	1476550656
 356 0130 0000B8CF 		.word	-810024960
 357 0134 000084CB 		.word	-880541696
 358 0138 00000000 		.word	vtempbuff
 359 013c 00000000 		.word	.LC0
 360 0140 00E8F11F 		.word	535947264
 361 0144 9F00EE09 		.word	166592671
 362 0148 18000000 		.word	.LC1
 363              		.cfi_endproc
 364              	.LFE2444:
 366              		.section	.text.HAL_ADC_MspInit,"ax",%progbits
 367              		.align	1
 368              		.global	HAL_ADC_MspInit
 369              		.syntax unified
 370              		.thumb
 371              		.thumb_func
 373              	HAL_ADC_MspInit:
 374              	.LVL20:
 375              	.LFB2445:
  79:main.cpp      **** 		//}
  80:main.cpp      **** 	}
  81:main.cpp      ****   
  82:main.cpp      **** }
  83:main.cpp      **** 
  84:main.cpp      **** void HAL_ADC_MspInit(ADC_HandleTypeDef* adcHandle)
  85:main.cpp      **** {
 376              		.loc 1 85 1 view -0
 377              		.cfi_startproc
 378              		@ args = 0, pretend = 0, frame = 8
 379              		@ frame_needed = 0, uses_anonymous_args = 0
 380              		.loc 1 85 1 is_stmt 0 view .LVU114
 381 0000 00B5     		push	{lr}
 382              		.cfi_def_cfa_offset 4
 383              		.cfi_offset 14, -4
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 18


 384 0002 83B0     		sub	sp, sp, #12
 385              		.cfi_def_cfa_offset 16
  86:main.cpp      ****     //if(adcHandle->Instance == ADC3)
  87:main.cpp      ****     //{
  88:main.cpp      **** 	
  89:main.cpp      **** 		__HAL_RCC_ADC3_CLK_ENABLE();
 386              		.loc 1 89 3 is_stmt 1 view .LVU115
 387              	.LBB162:
 388              		.loc 1 89 3 view .LVU116
 389              		.loc 1 89 3 view .LVU117
 390 0004 0B4B     		ldr	r3, .L9
 391 0006 D3F8E020 		ldr	r2, [r3, #224]
 392 000a 42F08072 		orr	r2, r2, #16777216
 393 000e C3F8E020 		str	r2, [r3, #224]
 394              		.loc 1 89 3 view .LVU118
 395 0012 D3F8E030 		ldr	r3, [r3, #224]
 396 0016 03F08073 		and	r3, r3, #16777216
 397 001a 0193     		str	r3, [sp, #4]
 398              		.loc 1 89 3 view .LVU119
 399 001c 019B     		ldr	r3, [sp, #4]
 400              	.LBE162:
 401              		.loc 1 89 3 view .LVU120
  90:main.cpp      **** 
  91:main.cpp      **** 		HAL_NVIC_SetPriority(ADC3_IRQn, 0, 0);
 402              		.loc 1 91 3 view .LVU121
 403              		.loc 1 91 23 is_stmt 0 view .LVU122
 404 001e 0022     		movs	r2, #0
 405 0020 1146     		mov	r1, r2
 406 0022 7F20     		movs	r0, #127
 407              	.LVL21:
 408              		.loc 1 91 23 view .LVU123
 409 0024 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 410              	.LVL22:
  92:main.cpp      **** 		HAL_NVIC_EnableIRQ(ADC3_IRQn);
 411              		.loc 1 92 3 is_stmt 1 view .LVU124
 412              		.loc 1 92 21 is_stmt 0 view .LVU125
 413 0028 7F20     		movs	r0, #127
 414 002a FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 415              	.LVL23:
  93:main.cpp      **** 	/*
  94:main.cpp      **** 		hdma_adc3.Instance                 = DMA2_Stream0;
  95:main.cpp      **** 		hdma_adc3.Init.Request             = DMA_REQUEST_ADC3;
  96:main.cpp      **** 		hdma_adc3.Init.Direction           = DMA_PERIPH_TO_MEMORY;
  97:main.cpp      **** 		hdma_adc3.Init.PeriphInc           = DMA_PINC_DISABLE;
  98:main.cpp      **** 		hdma_adc3.Init.MemInc              = DMA_MINC_ENABLE;
  99:main.cpp      **** 		hdma_adc3.Init.PeriphDataAlignment = DMA_PDATAALIGN_HALFWORD;
 100:main.cpp      **** 		hdma_adc3.Init.MemDataAlignment    = DMA_MDATAALIGN_HALFWORD;
 101:main.cpp      **** 		hdma_adc3.Init.Mode = DMA_CIRCULAR;
 102:main.cpp      **** 		hdma_adc3.Init.Priority = DMA_PRIORITY_LOW;
 103:main.cpp      **** 		hdma_adc3.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 104:main.cpp      **** 		HAL_DMA_Init(&hdma_adc3);
 105:main.cpp      **** 
 106:main.cpp      **** 		__HAL_LINKDMA(&hadc3, DMA_Handle, hdma_adc3);
 107:main.cpp      **** */
 108:main.cpp      **** 
 109:main.cpp      **** 
 110:main.cpp      ****    // }
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 19


 111:main.cpp      **** }
 416              		.loc 1 111 1 view .LVU126
 417 002e 03B0     		add	sp, sp, #12
 418              		.cfi_def_cfa_offset 4
 419              		@ sp needed
 420 0030 5DF804FB 		ldr	pc, [sp], #4
 421              	.L10:
 422              		.align	2
 423              	.L9:
 424 0034 00440258 		.word	1476543488
 425              		.cfi_endproc
 426              	.LFE2445:
 428              		.section	.text.DMA2_Stream0_IRQHandler,"ax",%progbits
 429              		.align	1
 430              		.global	DMA2_Stream0_IRQHandler
 431              		.syntax unified
 432              		.thumb
 433              		.thumb_func
 435              	DMA2_Stream0_IRQHandler:
 436              	.LFB2446:
 112:main.cpp      **** 
 113:main.cpp      **** extern "C"
 114:main.cpp      **** {
 115:main.cpp      ****     void DMA2_Stream0_IRQHandler(void) { HAL_DMA_IRQHandler(&hdma_adc3);}
 437              		.loc 1 115 40 is_stmt 1 view -0
 438              		.cfi_startproc
 439              		@ args = 0, pretend = 0, frame = 0
 440              		@ frame_needed = 0, uses_anonymous_args = 0
 441 0000 08B5     		push	{r3, lr}
 442              		.cfi_def_cfa_offset 8
 443              		.cfi_offset 3, -8
 444              		.cfi_offset 14, -4
 445              		.loc 1 115 42 view .LVU128
 446              		.loc 1 115 60 is_stmt 0 view .LVU129
 447 0002 0248     		ldr	r0, .L13
 448 0004 FFF7FEFF 		bl	HAL_DMA_IRQHandler
 449              	.LVL24:
 450              		.loc 1 115 73 view .LVU130
 451 0008 08BD     		pop	{r3, pc}
 452              	.L14:
 453 000a 00BF     		.align	2
 454              	.L13:
 455 000c 00000000 		.word	hdma_adc3
 456              		.cfi_endproc
 457              	.LFE2446:
 459              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
 460              		.align	1
 461              		.global	HAL_ADC_ConvCpltCallback
 462              		.syntax unified
 463              		.thumb
 464              		.thumb_func
 466              	HAL_ADC_ConvCpltCallback:
 467              	.LVL25:
 468              	.LFB2447:
 116:main.cpp      **** 
 117:main.cpp      **** 	
 118:main.cpp      ****     void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc)
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 20


 119:main.cpp      ****     {
 469              		.loc 1 119 5 is_stmt 1 view -0
 470              		.cfi_startproc
 471              		@ args = 0, pretend = 0, frame = 0
 472              		@ frame_needed = 0, uses_anonymous_args = 0
 473              		.loc 1 119 5 is_stmt 0 view .LVU132
 474 0000 38B5     		push	{r3, r4, r5, lr}
 475              		.cfi_def_cfa_offset 16
 476              		.cfi_offset 3, -16
 477              		.cfi_offset 4, -12
 478              		.cfi_offset 5, -8
 479              		.cfi_offset 14, -4
 120:main.cpp      **** 		vtempbuff[0] = HAL_ADC_GetValue(&hadc3);
 480              		.loc 1 120 3 is_stmt 1 view .LVU133
 481              		.loc 1 120 34 is_stmt 0 view .LVU134
 482 0002 084D     		ldr	r5, .L17
 483 0004 2846     		mov	r0, r5
 484              	.LVL26:
 485              		.loc 1 120 34 view .LVU135
 486 0006 FFF7FEFF 		bl	HAL_ADC_GetValue
 487              	.LVL27:
 488              		.loc 1 120 16 view .LVU136
 489 000a 80B2     		uxth	r0, r0
 490 000c 064C     		ldr	r4, .L17+4
 491 000e 2080     		strh	r0, [r4]	@ movhi
 121:main.cpp      **** 		vtempbuff[1] = HAL_ADC_GetValue(&hadc3);
 492              		.loc 1 121 3 is_stmt 1 view .LVU137
 493              		.loc 1 121 34 is_stmt 0 view .LVU138
 494 0010 2846     		mov	r0, r5
 495 0012 FFF7FEFF 		bl	HAL_ADC_GetValue
 496              	.LVL28:
 497              		.loc 1 121 16 view .LVU139
 498 0016 80B2     		uxth	r0, r0
 499 0018 6080     		strh	r0, [r4, #2]	@ movhi
 122:main.cpp      **** 		flag = 1;
 500              		.loc 1 122 3 is_stmt 1 view .LVU140
 501              		.loc 1 122 8 is_stmt 0 view .LVU141
 502 001a 044B     		ldr	r3, .L17+8
 503 001c 0122     		movs	r2, #1
 504 001e 1A70     		strb	r2, [r3]
 123:main.cpp      ****     }
 505              		.loc 1 123 5 view .LVU142
 506 0020 38BD     		pop	{r3, r4, r5, pc}
 507              	.L18:
 508 0022 00BF     		.align	2
 509              	.L17:
 510 0024 00000000 		.word	hadc3
 511 0028 00000000 		.word	vtempbuff
 512 002c 00000000 		.word	flag
 513              		.cfi_endproc
 514              	.LFE2447:
 516              		.section	.text.HAL_Injected_ConvCpltCallback,"ax",%progbits
 517              		.align	1
 518              		.global	HAL_Injected_ConvCpltCallback
 519              		.syntax unified
 520              		.thumb
 521              		.thumb_func
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 21


 523              	HAL_Injected_ConvCpltCallback:
 524              	.LVL29:
 525              	.LFB2448:
 124:main.cpp      **** 		
 125:main.cpp      **** 
 126:main.cpp      **** 		    /*
 127:main.cpp      ****      * For some reason the flags for injected conversions were getting set.
 128:main.cpp      ****      * When I went to implement a simple callback to clear them it stopped happening
 129:main.cpp      ****      * So I guess this doesn't need to be here..
 130:main.cpp      ****      */
 131:main.cpp      ****     void HAL_Injected_ConvCpltCallback(ADC_HandleTypeDef* hadc)
 132:main.cpp      ****     {
 526              		.loc 1 132 5 is_stmt 1 view -0
 527              		.cfi_startproc
 528              		@ args = 0, pretend = 0, frame = 0
 529              		@ frame_needed = 0, uses_anonymous_args = 0
 530              		@ link register save eliminated.
 133:main.cpp      **** #if DEBUG
 134:main.cpp      ****         asm("bkpt 255");
 531              		.loc 1 134 9 view .LVU144
 532              		.syntax unified
 533              	@ 134 "main.cpp" 1
 534 0000 FFBE     		bkpt 255
 535              	@ 0 "" 2
 135:main.cpp      **** #endif
 136:main.cpp      ****     }
 536              		.loc 1 136 5 is_stmt 0 view .LVU145
 537              		.thumb
 538              		.syntax unified
 539 0002 7047     		bx	lr
 540              		.cfi_endproc
 541              	.LFE2448:
 543              		.section	.text.HAL_ADC_ErrorCallback,"ax",%progbits
 544              		.align	1
 545              		.global	HAL_ADC_ErrorCallback
 546              		.syntax unified
 547              		.thumb
 548              		.thumb_func
 550              	HAL_ADC_ErrorCallback:
 551              	.LVL30:
 552              	.LFB2449:
 137:main.cpp      **** 
 138:main.cpp      ****     void HAL_ADC_ErrorCallback(ADC_HandleTypeDef* hadc)
 139:main.cpp      ****     {
 553              		.loc 1 139 5 is_stmt 1 view -0
 554              		.cfi_startproc
 555              		@ args = 0, pretend = 0, frame = 0
 556              		@ frame_needed = 0, uses_anonymous_args = 0
 557              		@ link register save eliminated.
 140:main.cpp      ****         if(hadc->Instance == ADC1)
 558              		.loc 1 140 9 view .LVU147
 559              		.loc 1 140 18 is_stmt 0 view .LVU148
 560 0000 0268     		ldr	r2, [r0]
 561              		.loc 1 140 9 view .LVU149
 562 0002 034B     		ldr	r3, .L23
 563 0004 9A42     		cmp	r2, r3
 564 0006 00D0     		beq	.L22
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 22


 565              	.L20:
 141:main.cpp      ****         {
 142:main.cpp      **** #if DEBUG
 143:main.cpp      ****             asm("bkpt 255");
 144:main.cpp      **** #endif
 145:main.cpp      ****         }
 146:main.cpp      ****     }
 566              		.loc 1 146 5 view .LVU150
 567 0008 7047     		bx	lr
 568              	.L22:
 143:main.cpp      **** #endif
 569              		.loc 1 143 13 is_stmt 1 view .LVU151
 570              		.syntax unified
 571              	@ 143 "main.cpp" 1
 572 000a FFBE     		bkpt 255
 573              	@ 0 "" 2
 574              		.loc 1 146 5 is_stmt 0 view .LVU152
 575              		.thumb
 576              		.syntax unified
 577 000c FCE7     		b	.L20
 578              	.L24:
 579 000e 00BF     		.align	2
 580              	.L23:
 581 0010 00200240 		.word	1073881088
 582              		.cfi_endproc
 583              	.LFE2449:
 585              		.section	.text._GLOBAL__sub_I_hw,"ax",%progbits
 586              		.align	1
 587              		.syntax unified
 588              		.thumb
 589              		.thumb_func
 591              	_GLOBAL__sub_I_hw:
 592              	.LFB2470:
 147:main.cpp      **** }...
 593              		.loc 1 147 1 is_stmt 1 view -0
 594              		.cfi_startproc
 595              		@ args = 0, pretend = 0, frame = 0
 596              		@ frame_needed = 0, uses_anonymous_args = 0
 597 0000 08B5     		push	{r3, lr}
 598              		.cfi_def_cfa_offset 8
 599              		.cfi_offset 3, -8
 600              		.cfi_offset 14, -4
 601              	.LVL31:
 602              	.LBB230:
 603              	.LBI230:
 604              		.loc 1 147 1 view .LVU154
 605              	.LBB231:
 606              	.LBB232:
 607              	.LBI232:
  21:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 608              		.loc 2 21 5 view .LVU155
 609              	.LBB233:
 610              	.LBB234:
 611              	.LBI234:
 612              		.file 8 "../libDaisy/src/per/qspi.h"
   1:../libDaisy/src/per/qspi.h **** #ifndef DSY_QSPI
   2:../libDaisy/src/per/qspi.h **** #define DSY_QSPI /**< Macro */
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 23


   3:../libDaisy/src/per/qspi.h **** 
   4:../libDaisy/src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../libDaisy/src/per/qspi.h **** 
   6:../libDaisy/src/per/qspi.h **** #include <cstdint>
   7:../libDaisy/src/per/qspi.h **** #include "daisy_core.h"
   8:../libDaisy/src/per/qspi.h **** #include "util/hal_map.h"
   9:../libDaisy/src/per/qspi.h **** 
  10:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  11:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  12:../libDaisy/src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  13:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_DATA       \
  14:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  15:../libDaisy/src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  16:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_BSS        \
  17:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  18:../libDaisy/src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  19:../libDaisy/src/per/qspi.h **** 
  20:../libDaisy/src/per/qspi.h **** namespace daisy
  21:../libDaisy/src/per/qspi.h **** {
  22:../libDaisy/src/per/qspi.h **** /** @addtogroup serial
  23:../libDaisy/src/per/qspi.h **** @{
  24:../libDaisy/src/per/qspi.h **** */
  25:../libDaisy/src/per/qspi.h **** 
  26:../libDaisy/src/per/qspi.h **** /** 
  27:../libDaisy/src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  28:../libDaisy/src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  29:../libDaisy/src/per/qspi.h ****     * IS25LP080D
  30:../libDaisy/src/per/qspi.h **** */
  31:../libDaisy/src/per/qspi.h **** class QSPIHandle
  32:../libDaisy/src/per/qspi.h **** {
  33:../libDaisy/src/per/qspi.h ****   public:
  34:../libDaisy/src/per/qspi.h ****     enum Result
  35:../libDaisy/src/per/qspi.h ****     {
  36:../libDaisy/src/per/qspi.h ****         OK = 0,
  37:../libDaisy/src/per/qspi.h ****         ERR
  38:../libDaisy/src/per/qspi.h ****     };
  39:../libDaisy/src/per/qspi.h **** 
  40:../libDaisy/src/per/qspi.h ****     /** Indicates the current status of the module. 
  41:../libDaisy/src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  42:../libDaisy/src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  43:../libDaisy/src/per/qspi.h ****          * 
  44:../libDaisy/src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  45:../libDaisy/src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  46:../libDaisy/src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  47:../libDaisy/src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  48:../libDaisy/src/per/qspi.h ****          */
  49:../libDaisy/src/per/qspi.h ****     enum Status
  50:../libDaisy/src/per/qspi.h ****     {
  51:../libDaisy/src/per/qspi.h ****         GOOD = 0,
  52:../libDaisy/src/per/qspi.h ****         E_HAL_ERROR,
  53:../libDaisy/src/per/qspi.h ****         E_SWITCHING_MODES,
  54:../libDaisy/src/per/qspi.h ****         E_INVALID_MODE,
  55:../libDaisy/src/per/qspi.h ****     };
  56:../libDaisy/src/per/qspi.h **** 
  57:../libDaisy/src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  58:../libDaisy/src/per/qspi.h ****     struct Config
  59:../libDaisy/src/per/qspi.h ****     {
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 24


  60:../libDaisy/src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  61:../libDaisy/src/per/qspi.h ****         enum Device
  62:../libDaisy/src/per/qspi.h ****         {
  63:../libDaisy/src/per/qspi.h ****             IS25LP080D,  /**< & */
  64:../libDaisy/src/per/qspi.h ****             IS25LP064A,  /**< & */
  65:../libDaisy/src/per/qspi.h ****             DEVICE_LAST, /**< & */
  66:../libDaisy/src/per/qspi.h ****         };
  67:../libDaisy/src/per/qspi.h **** 
  68:../libDaisy/src/per/qspi.h ****         /** 
  69:../libDaisy/src/per/qspi.h ****         Modes of operation.
  70:../libDaisy/src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  71:../libDaisy/src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  72:../libDaisy/src/per/qspi.h ****         possible in this mode. \n 
  73:../libDaisy/src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  74:../libDaisy/src/per/qspi.h ****         */
  75:../libDaisy/src/per/qspi.h ****         enum Mode
  76:../libDaisy/src/per/qspi.h ****         {
  77:../libDaisy/src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  78:../libDaisy/src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  79:../libDaisy/src/per/qspi.h ****             MODE_LAST,
  80:../libDaisy/src/per/qspi.h ****         };
  81:../libDaisy/src/per/qspi.h **** 
  82:../libDaisy/src/per/qspi.h ****         //SCK,  CE# (active low)
  83:../libDaisy/src/per/qspi.h ****         struct
  84:../libDaisy/src/per/qspi.h ****         {
  85:../libDaisy/src/per/qspi.h ****             Pin io0; /**< & */
  86:../libDaisy/src/per/qspi.h ****             Pin io1; /**< & */
  87:../libDaisy/src/per/qspi.h ****             Pin io2; /**< & */
  88:../libDaisy/src/per/qspi.h ****             Pin io3; /**< & */
  89:../libDaisy/src/per/qspi.h ****             Pin clk; /**< & */
  90:../libDaisy/src/per/qspi.h ****             Pin ncs; /**< & */
  91:../libDaisy/src/per/qspi.h ****         } pin_config;
  92:../libDaisy/src/per/qspi.h **** 
  93:../libDaisy/src/per/qspi.h ****         Device device;
  94:../libDaisy/src/per/qspi.h ****         Mode   mode;
  95:../libDaisy/src/per/qspi.h ****     };
  96:../libDaisy/src/per/qspi.h **** 
  97:../libDaisy/src/per/qspi.h ****     /** 
  98:../libDaisy/src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  99:../libDaisy/src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
 100:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 101:../libDaisy/src/per/qspi.h ****         */
 102:../libDaisy/src/per/qspi.h ****     Result Init(const Config& config);
 103:../libDaisy/src/per/qspi.h **** 
 104:../libDaisy/src/per/qspi.h ****     /** Returns the current config. */
 105:../libDaisy/src/per/qspi.h ****     const Config& GetConfig() const;
 106:../libDaisy/src/per/qspi.h **** 
 107:../libDaisy/src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 108:../libDaisy/src/per/qspi.h ****     // would make manually calling it unnecessary.
 109:../libDaisy/src/per/qspi.h ****     /** 
 110:../libDaisy/src/per/qspi.h ****         Deinitializes the peripheral
 111:../libDaisy/src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 112:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 113:../libDaisy/src/per/qspi.h ****         */
 114:../libDaisy/src/per/qspi.h ****     Result DeInit();
 115:../libDaisy/src/per/qspi.h **** 
 116:../libDaisy/src/per/qspi.h ****     /** 
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 25


 117:../libDaisy/src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 118:../libDaisy/src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 119:../libDaisy/src/per/qspi.h ****         \param address Address to write to
 120:../libDaisy/src/per/qspi.h ****         \param size Buffer size
 121:../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 122:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 123:../libDaisy/src/per/qspi.h ****         */
 124:../libDaisy/src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 125:../libDaisy/src/per/qspi.h **** 
 126:../libDaisy/src/per/qspi.h ****     /** 
 127:../libDaisy/src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 128:../libDaisy/src/per/qspi.h ****         \param address Address to write to
 129:../libDaisy/src/per/qspi.h ****         \param size Buffer size
 130:../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 131:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 132:../libDaisy/src/per/qspi.h ****         */
 133:../libDaisy/src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 134:../libDaisy/src/per/qspi.h **** 
 135:../libDaisy/src/per/qspi.h ****     /** 
 136:../libDaisy/src/per/qspi.h ****         Erases the area specified on the chip.
 137:../libDaisy/src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 138:../libDaisy/src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 139:../libDaisy/src/per/qspi.h ****         \param start_addr Address to begin erasing from
 140:../libDaisy/src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 141:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 142:../libDaisy/src/per/qspi.h ****         */
 143:../libDaisy/src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 144:../libDaisy/src/per/qspi.h **** 
 145:../libDaisy/src/per/qspi.h ****     /**  
 146:../libDaisy/src/per/qspi.h ****          Erases a single sector of the chip.  
 147:../libDaisy/src/per/qspi.h ****         TODO: Document the size of this function. 
 148:../libDaisy/src/per/qspi.h ****         \param address Address of sector to erase
 149:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 150:../libDaisy/src/per/qspi.h ****         */
 151:../libDaisy/src/per/qspi.h ****     Result EraseSector(uint32_t address);
 152:../libDaisy/src/per/qspi.h **** 
 153:../libDaisy/src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 154:../libDaisy/src/per/qspi.h ****      *  \returns Status
 155:../libDaisy/src/per/qspi.h ****      */
 156:../libDaisy/src/per/qspi.h ****     Status GetStatus();
 157:../libDaisy/src/per/qspi.h **** 
 158:../libDaisy/src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 159:../libDaisy/src/per/qspi.h ****      *  The memory at this address is read-only
 160:../libDaisy/src/per/qspi.h ****      *  to write to it use the Write function.
 161:../libDaisy/src/per/qspi.h ****      * 
 162:../libDaisy/src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 163:../libDaisy/src/per/qspi.h ****      *                many bytes into the memory
 164:../libDaisy/src/per/qspi.h ****     */
 165:../libDaisy/src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 166:../libDaisy/src/per/qspi.h **** 
 167:../libDaisy/src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 613              		.loc 8 167 5 view .LVU156
 614              	.LBB235:
 615              	.LBB236:
 616              		.loc 8 167 20 is_stmt 0 view .LVU157
 617 0002 1748     		ldr	r0, .L27
 618 0004 0023     		movs	r3, #0
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 26


 619 0006 0360     		str	r3, [r0]
 620              	.LVL32:
 621              		.loc 8 167 20 view .LVU158
 622              	.LBE236:
 623              	.LBE235:
 624              	.LBE234:
 625              	.LBB237:
 626              	.LBI237:
  58:../libDaisy/src/per/qspi.h ****     {
 627              		.loc 8 58 12 is_stmt 1 view .LVU159
 628              	.LBB238:
 629              	.LBI238:
  84:../libDaisy/src/per/qspi.h ****             Pin io0; /**< & */
 630              		.loc 8 84 9 view .LVU160
 631              	.LBB239:
 632              	.LBI239:
 633              		.file 9 "../libDaisy/src/daisy_core.h"
   1:../libDaisy/src/daisy_core.h **** #pragma once
   2:../libDaisy/src/daisy_core.h **** #ifndef DSY_CORE_HW_H
   3:../libDaisy/src/daisy_core.h **** #define DSY_CORE_HW_H /**< & */
   4:../libDaisy/src/daisy_core.h **** #include <stdint.h>
   5:../libDaisy/src/daisy_core.h **** #include <stdlib.h>
   6:../libDaisy/src/daisy_core.h **** 
   7:../libDaisy/src/daisy_core.h **** #if defined(_MSC_VER)
   8:../libDaisy/src/daisy_core.h **** #define FORCE_INLINE __forceinline /**< & */
   9:../libDaisy/src/daisy_core.h **** #elif defined(__clang__)
  10:../libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  11:../libDaisy/src/daisy_core.h **** #pragma clang diagnostic ignored "-Wduplicate-decl-specifier"
  12:../libDaisy/src/daisy_core.h **** #elif defined(__GNUC__)
  13:../libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  14:../libDaisy/src/daisy_core.h **** #else
  15:../libDaisy/src/daisy_core.h **** #error unknown compiler
  16:../libDaisy/src/daisy_core.h **** #endif
  17:../libDaisy/src/daisy_core.h **** 
  18:../libDaisy/src/daisy_core.h **** /** @addtogroup utility
  19:../libDaisy/src/daisy_core.h ****     @{
  20:../libDaisy/src/daisy_core.h **** */
  21:../libDaisy/src/daisy_core.h **** 
  22:../libDaisy/src/daisy_core.h **** /** Macro for area of memory that is configured as cacheless
  23:../libDaisy/src/daisy_core.h **** This should be used primarily for DMA buffers, and the like.
  24:../libDaisy/src/daisy_core.h **** */
  25:../libDaisy/src/daisy_core.h **** #define DMA_BUFFER_MEM_SECTION __attribute__((section(".sram1_bss")))
  26:../libDaisy/src/daisy_core.h **** /** 
  27:../libDaisy/src/daisy_core.h **** THE DTCM RAM section is also non-cached. However, is not suitable 
  28:../libDaisy/src/daisy_core.h **** for DMA transfers. Performance is on par with internal SRAM w/ 
  29:../libDaisy/src/daisy_core.h **** cache enabled.
  30:../libDaisy/src/daisy_core.h **** */
  31:../libDaisy/src/daisy_core.h **** #define DTCM_MEM_SECTION __attribute__((section(".dtcmram_bss")))
  32:../libDaisy/src/daisy_core.h **** 
  33:../libDaisy/src/daisy_core.h **** #define FBIPMAX 0.999985f             /**< close to 1.0f-LSB at 16 bit */
  34:../libDaisy/src/daisy_core.h **** #define FBIPMIN (-FBIPMAX)            /**< - (1 - LSB) */
  35:../libDaisy/src/daisy_core.h **** #define U82F_SCALE 0.0078740f         /**< 1 / 127 */
  36:../libDaisy/src/daisy_core.h **** #define F2U8_SCALE 127.0f             /**< 128 - 1 */
  37:../libDaisy/src/daisy_core.h **** #define S82F_SCALE 0.0078125f         /**< 1 / (2**7) */
  38:../libDaisy/src/daisy_core.h **** #define F2S8_SCALE 127.0f             /**< (2 ** 7) - 1 */
  39:../libDaisy/src/daisy_core.h **** #define S162F_SCALE 3.0517578125e-05f /**< 1 / (2** 15) */
  40:../libDaisy/src/daisy_core.h **** #define F2S16_SCALE 32767.0f          /**< (2 ** 15) - 1 */
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 27


  41:../libDaisy/src/daisy_core.h **** #define F2S24_SCALE 8388608.0f        /**< 2 ** 23 */
  42:../libDaisy/src/daisy_core.h **** #define S242F_SCALE 1.192092896e-07f  /**< 1 / (2 ** 23) */
  43:../libDaisy/src/daisy_core.h **** #define S24SIGN 0x800000              /**< 2 ** 23 */
  44:../libDaisy/src/daisy_core.h **** #define S322F_SCALE 4.6566129e-10f    /**< 1 / (2** 31) */
  45:../libDaisy/src/daisy_core.h **** #define F2S32_SCALE 2147483647.f      /**< (2 ** 31) - 1 */
  46:../libDaisy/src/daisy_core.h **** 
  47:../libDaisy/src/daisy_core.h **** 
  48:../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  49:../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  50:../libDaisy/src/daisy_core.h **** #define OUT_L out[0]
  51:../libDaisy/src/daisy_core.h **** 
  52:../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  53:../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  54:../libDaisy/src/daisy_core.h **** #define OUT_R out[1]
  55:../libDaisy/src/daisy_core.h **** 
  56:../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  57:../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  58:../libDaisy/src/daisy_core.h **** #define IN_L in[0]
  59:../libDaisy/src/daisy_core.h **** 
  60:../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  61:../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  62:../libDaisy/src/daisy_core.h **** #define IN_R in[1]
  63:../libDaisy/src/daisy_core.h **** 
  64:../libDaisy/src/daisy_core.h **** /** 
  65:../libDaisy/src/daisy_core.h ****     Computes cube.
  66:../libDaisy/src/daisy_core.h ****     \param x Number to be cubed
  67:../libDaisy/src/daisy_core.h ****     \return x ^ 3
  68:../libDaisy/src/daisy_core.h **** */
  69:../libDaisy/src/daisy_core.h **** FORCE_INLINE float cube(float x)
  70:../libDaisy/src/daisy_core.h **** {
  71:../libDaisy/src/daisy_core.h ****     return (x * x) * x;
  72:../libDaisy/src/daisy_core.h **** }
  73:../libDaisy/src/daisy_core.h **** 
  74:../libDaisy/src/daisy_core.h **** /** 
  75:../libDaisy/src/daisy_core.h ****     Converts unsigned 8-bit to float
  76:../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  77:../libDaisy/src/daisy_core.h ****     \return Scaled number.
  78:../libDaisy/src/daisy_core.h **** */
  79:../libDaisy/src/daisy_core.h **** FORCE_INLINE float u82f(uint8_t x)
  80:../libDaisy/src/daisy_core.h **** {
  81:../libDaisy/src/daisy_core.h ****     return ((float)x - 127.f) * U82F_SCALE;
  82:../libDaisy/src/daisy_core.h **** }
  83:../libDaisy/src/daisy_core.h **** 
  84:../libDaisy/src/daisy_core.h **** /**
  85:../libDaisy/src/daisy_core.h ****     Converts float to unsigned 8-bit
  86:../libDaisy/src/daisy_core.h **** */
  87:../libDaisy/src/daisy_core.h **** FORCE_INLINE uint8_t f2u8(float x)
  88:../libDaisy/src/daisy_core.h **** {
  89:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
  90:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
  91:../libDaisy/src/daisy_core.h ****     return (uint8_t)((x * F2U8_SCALE) + F2U8_SCALE);
  92:../libDaisy/src/daisy_core.h **** }
  93:../libDaisy/src/daisy_core.h **** 
  94:../libDaisy/src/daisy_core.h **** 
  95:../libDaisy/src/daisy_core.h **** /** 
  96:../libDaisy/src/daisy_core.h ****     Converts Signed 8-bit to float
  97:../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 28


  98:../libDaisy/src/daisy_core.h ****     \return Scaled number.
  99:../libDaisy/src/daisy_core.h **** */
 100:../libDaisy/src/daisy_core.h **** FORCE_INLINE float s82f(int8_t x)
 101:../libDaisy/src/daisy_core.h **** {
 102:../libDaisy/src/daisy_core.h ****     return (float)x * S82F_SCALE;
 103:../libDaisy/src/daisy_core.h **** }
 104:../libDaisy/src/daisy_core.h **** 
 105:../libDaisy/src/daisy_core.h **** /**
 106:../libDaisy/src/daisy_core.h ****     Converts float to Signed 8-bit
 107:../libDaisy/src/daisy_core.h **** */
 108:../libDaisy/src/daisy_core.h **** FORCE_INLINE int8_t f2s8(float x)
 109:../libDaisy/src/daisy_core.h **** {
 110:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 111:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 112:../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S8_SCALE);
 113:../libDaisy/src/daisy_core.h **** }
 114:../libDaisy/src/daisy_core.h **** 
 115:../libDaisy/src/daisy_core.h **** /** 
 116:../libDaisy/src/daisy_core.h ****     Converts Signed 16-bit to float
 117:../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
 118:../libDaisy/src/daisy_core.h ****     \return Scaled number.
 119:../libDaisy/src/daisy_core.h **** */
 120:../libDaisy/src/daisy_core.h **** FORCE_INLINE float s162f(int16_t x)
 121:../libDaisy/src/daisy_core.h **** {
 122:../libDaisy/src/daisy_core.h ****     return (float)x * S162F_SCALE;
 123:../libDaisy/src/daisy_core.h **** }
 124:../libDaisy/src/daisy_core.h **** 
 125:../libDaisy/src/daisy_core.h **** /**
 126:../libDaisy/src/daisy_core.h ****     Converts float to Signed 16-bit
 127:../libDaisy/src/daisy_core.h **** */
 128:../libDaisy/src/daisy_core.h **** FORCE_INLINE int16_t f2s16(float x)
 129:../libDaisy/src/daisy_core.h **** {
 130:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 131:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 132:../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S16_SCALE);
 133:../libDaisy/src/daisy_core.h **** }
 134:../libDaisy/src/daisy_core.h **** 
 135:../libDaisy/src/daisy_core.h **** /**
 136:../libDaisy/src/daisy_core.h ****     Converts Signed 24-bit to float
 137:../libDaisy/src/daisy_core.h ****  */
 138:../libDaisy/src/daisy_core.h **** FORCE_INLINE float s242f(int32_t x)
 139:../libDaisy/src/daisy_core.h **** {
 140:../libDaisy/src/daisy_core.h ****     x = (x ^ S24SIGN) - S24SIGN; //sign extend aka ((x<<8)>>8)
 141:../libDaisy/src/daisy_core.h ****     return (float)x * S242F_SCALE;
 142:../libDaisy/src/daisy_core.h **** }
 143:../libDaisy/src/daisy_core.h **** /**
 144:../libDaisy/src/daisy_core.h ****     Converts float to Signed 24-bit
 145:../libDaisy/src/daisy_core.h ****  */
 146:../libDaisy/src/daisy_core.h **** FORCE_INLINE int32_t f2s24(float x)
 147:../libDaisy/src/daisy_core.h **** {
 148:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 149:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 150:../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S24_SCALE);
 151:../libDaisy/src/daisy_core.h **** }
 152:../libDaisy/src/daisy_core.h **** 
 153:../libDaisy/src/daisy_core.h **** /**
 154:../libDaisy/src/daisy_core.h ****     Converts Signed 32-bit to float
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 29


 155:../libDaisy/src/daisy_core.h ****  */
 156:../libDaisy/src/daisy_core.h **** FORCE_INLINE float s322f(int32_t x)
 157:../libDaisy/src/daisy_core.h **** {
 158:../libDaisy/src/daisy_core.h ****     return (float)x * S322F_SCALE;
 159:../libDaisy/src/daisy_core.h **** }
 160:../libDaisy/src/daisy_core.h **** /**
 161:../libDaisy/src/daisy_core.h ****     Converts float to Signed 24-bit
 162:../libDaisy/src/daisy_core.h ****  */
 163:../libDaisy/src/daisy_core.h **** FORCE_INLINE int32_t f2s32(float x)
 164:../libDaisy/src/daisy_core.h **** {
 165:../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 166:../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 167:../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S32_SCALE);
 168:../libDaisy/src/daisy_core.h **** }
 169:../libDaisy/src/daisy_core.h **** 
 170:../libDaisy/src/daisy_core.h **** #ifdef __cplusplus
 171:../libDaisy/src/daisy_core.h **** 
 172:../libDaisy/src/daisy_core.h **** namespace daisy
 173:../libDaisy/src/daisy_core.h **** {
 174:../libDaisy/src/daisy_core.h **** /** @brief GPIO Port names */
 175:../libDaisy/src/daisy_core.h **** enum GPIOPort
 176:../libDaisy/src/daisy_core.h **** {
 177:../libDaisy/src/daisy_core.h ****     PORTA, /**< Port A */
 178:../libDaisy/src/daisy_core.h ****     PORTB, /**< Port B */
 179:../libDaisy/src/daisy_core.h ****     PORTC, /**< Port C */
 180:../libDaisy/src/daisy_core.h ****     PORTD, /**< Port D */
 181:../libDaisy/src/daisy_core.h ****     PORTE, /**< Port E */
 182:../libDaisy/src/daisy_core.h ****     PORTF, /**< Port F */
 183:../libDaisy/src/daisy_core.h ****     PORTG, /**< Port G */
 184:../libDaisy/src/daisy_core.h ****     PORTH, /**< Port H */
 185:../libDaisy/src/daisy_core.h ****     PORTI, /**< Port I */
 186:../libDaisy/src/daisy_core.h ****     PORTJ, /**< Port J */
 187:../libDaisy/src/daisy_core.h ****     PORTK, /**< Port K */
 188:../libDaisy/src/daisy_core.h ****     PORTX, /**< Used as a dummy port to signal an invalid pin. */
 189:../libDaisy/src/daisy_core.h **** };
 190:../libDaisy/src/daisy_core.h **** 
 191:../libDaisy/src/daisy_core.h **** /** @brief representation of hardware port/pin combination */
 192:../libDaisy/src/daisy_core.h **** struct Pin
 193:../libDaisy/src/daisy_core.h **** {
 194:../libDaisy/src/daisy_core.h ****     GPIOPort port;
 195:../libDaisy/src/daisy_core.h ****     uint8_t  pin;
 196:../libDaisy/src/daisy_core.h **** 
 197:../libDaisy/src/daisy_core.h ****     /** @brief Constructor creates a valid pin. 
 198:../libDaisy/src/daisy_core.h ****      *  @param pt GPIOPort between PA, and PK corresponding to STM32 Port.
 199:../libDaisy/src/daisy_core.h ****      *  @param pn pin number in range of 0-15
 200:../libDaisy/src/daisy_core.h ****     */
 201:../libDaisy/src/daisy_core.h ****     constexpr Pin(const GPIOPort pt, const uint8_t pn) : port(pt), pin(pn) {}
 202:../libDaisy/src/daisy_core.h **** 
 203:../libDaisy/src/daisy_core.h ****     /** @brief Basic Constructor creates an invalid Pin object */
 204:../libDaisy/src/daisy_core.h ****     constexpr Pin() : port(PORTX), pin(255) {}
 634              		.loc 9 204 15 view .LVU161
 635              	.LBB240:
 636              	.LBB241:
 637              		.loc 9 204 23 is_stmt 0 view .LVU162
 638 0008 0B21     		movs	r1, #11
 639 000a 0171     		strb	r1, [r0, #4]
 640              		.loc 9 204 36 view .LVU163
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 30


 641 000c FF22     		movs	r2, #255
 642 000e 4271     		strb	r2, [r0, #5]
 643              	.LVL33:
 644              		.loc 9 204 36 view .LVU164
 645              	.LBE241:
 646              	.LBE240:
 647              	.LBE239:
 648              	.LBB242:
 649              	.LBI242:
 650              		.loc 9 204 15 is_stmt 1 view .LVU165
 651              	.LBB243:
 652              	.LBB244:
 653              		.loc 9 204 23 is_stmt 0 view .LVU166
 654 0010 8171     		strb	r1, [r0, #6]
 655              		.loc 9 204 36 view .LVU167
 656 0012 C271     		strb	r2, [r0, #7]
 657              	.LVL34:
 658              		.loc 9 204 36 view .LVU168
 659              	.LBE244:
 660              	.LBE243:
 661              	.LBE242:
 662              	.LBB245:
 663              	.LBI245:
 664              		.loc 9 204 15 is_stmt 1 view .LVU169
 665              	.LBB246:
 666              	.LBB247:
 667              		.loc 9 204 23 is_stmt 0 view .LVU170
 668 0014 0172     		strb	r1, [r0, #8]
 669              		.loc 9 204 36 view .LVU171
 670 0016 4272     		strb	r2, [r0, #9]
 671              	.LVL35:
 672              		.loc 9 204 36 view .LVU172
 673              	.LBE247:
 674              	.LBE246:
 675              	.LBE245:
 676              	.LBB248:
 677              	.LBI248:
 678              		.loc 9 204 15 is_stmt 1 view .LVU173
 679              	.LBB249:
 680              	.LBB250:
 681              		.loc 9 204 23 is_stmt 0 view .LVU174
 682 0018 8172     		strb	r1, [r0, #10]
 683              		.loc 9 204 36 view .LVU175
 684 001a C272     		strb	r2, [r0, #11]
 685              	.LVL36:
 686              		.loc 9 204 36 view .LVU176
 687              	.LBE250:
 688              	.LBE249:
 689              	.LBE248:
 690              	.LBB251:
 691              	.LBI251:
 692              		.loc 9 204 15 is_stmt 1 view .LVU177
 693              	.LBB252:
 694              	.LBB253:
 695              		.loc 9 204 23 is_stmt 0 view .LVU178
 696 001c 0173     		strb	r1, [r0, #12]
 697              		.loc 9 204 36 view .LVU179
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 31


 698 001e 4273     		strb	r2, [r0, #13]
 699              	.LVL37:
 700              		.loc 9 204 36 view .LVU180
 701              	.LBE253:
 702              	.LBE252:
 703              	.LBE251:
 704              	.LBB254:
 705              	.LBI254:
 706              		.loc 9 204 15 is_stmt 1 view .LVU181
 707              	.LBB255:
 708              	.LBB256:
 709              		.loc 9 204 23 is_stmt 0 view .LVU182
 710 0020 8173     		strb	r1, [r0, #14]
 711              		.loc 9 204 36 view .LVU183
 712 0022 C273     		strb	r2, [r0, #15]
 713              	.LVL38:
 714              		.loc 9 204 36 view .LVU184
 715              	.LBE256:
 716              	.LBE255:
 717              	.LBE254:
 718              	.LBE238:
 719              	.LBE237:
 720              	.LBB257:
 721              	.LBI257:
  87:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 722              		.loc 7 87 5 is_stmt 1 view .LVU185
 723              	.LBB258:
 724              	.LBB259:
  87:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 725              		.loc 7 87 21 is_stmt 0 view .LVU186
 726 0024 4361     		str	r3, [r0, #20]
 727              	.LVL39:
  87:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 728              		.loc 7 87 21 view .LVU187
 729              	.LBE259:
 730              	.LBE258:
 731              	.LBE257:
 732              	.LBB260:
 733              	.LBI260:
 109:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 734              		.loc 6 109 5 is_stmt 1 view .LVU188
 109:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 735              		.loc 6 109 5 is_stmt 0 view .LVU189
 736              	.LBE260:
 737              	.LBB261:
 738              	.LBI261:
 739              		.file 10 "../libDaisy/src/per/dac.h"
   1:../libDaisy/src/per/dac.h **** #pragma once
   2:../libDaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:../libDaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../libDaisy/src/per/dac.h **** #include "stm32h7xx_hal.h"
   5:../libDaisy/src/per/dac.h **** #include "daisy_core.h"
   6:../libDaisy/src/per/dac.h **** 
   7:../libDaisy/src/per/dac.h **** namespace daisy
   8:../libDaisy/src/per/dac.h **** {
   9:../libDaisy/src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../libDaisy/src/per/dac.h ****  *  @ingroup per_analog
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 32


  11:../libDaisy/src/per/dac.h ****  ** 
  12:../libDaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../libDaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../libDaisy/src/per/dac.h ****  **
  15:../libDaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../libDaisy/src/per/dac.h ****  **
  17:../libDaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../libDaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../libDaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../libDaisy/src/per/dac.h ****  ***/
  21:../libDaisy/src/per/dac.h **** class DacHandle
  22:../libDaisy/src/per/dac.h **** {
  23:../libDaisy/src/per/dac.h ****   public:
  24:../libDaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../libDaisy/src/per/dac.h ****     enum class Result
  26:../libDaisy/src/per/dac.h ****     {
  27:../libDaisy/src/per/dac.h ****         OK,
  28:../libDaisy/src/per/dac.h ****         ERR,
  29:../libDaisy/src/per/dac.h ****     };
  30:../libDaisy/src/per/dac.h **** 
  31:../libDaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../libDaisy/src/per/dac.h ****     enum class Channel
  33:../libDaisy/src/per/dac.h ****     {
  34:../libDaisy/src/per/dac.h ****         ONE,
  35:../libDaisy/src/per/dac.h ****         TWO,
  36:../libDaisy/src/per/dac.h ****         BOTH,
  37:../libDaisy/src/per/dac.h ****     };
  38:../libDaisy/src/per/dac.h **** 
  39:../libDaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../libDaisy/src/per/dac.h ****      **
  41:../libDaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../libDaisy/src/per/dac.h ****      **
  43:../libDaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../libDaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../libDaisy/src/per/dac.h ****      ***/
  46:../libDaisy/src/per/dac.h ****     enum class Mode
  47:../libDaisy/src/per/dac.h ****     {
  48:../libDaisy/src/per/dac.h ****         POLLING,
  49:../libDaisy/src/per/dac.h ****         DMA,
  50:../libDaisy/src/per/dac.h ****     };
  51:../libDaisy/src/per/dac.h **** 
  52:../libDaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../libDaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../libDaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../libDaisy/src/per/dac.h ****      ***/
  56:../libDaisy/src/per/dac.h ****     enum class BitDepth
  57:../libDaisy/src/per/dac.h ****     {
  58:../libDaisy/src/per/dac.h ****         BITS_8,
  59:../libDaisy/src/per/dac.h ****         BITS_12
  60:../libDaisy/src/per/dac.h ****     };
  61:../libDaisy/src/per/dac.h **** 
  62:../libDaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../libDaisy/src/per/dac.h ****     enum class BufferState
  64:../libDaisy/src/per/dac.h ****     {
  65:../libDaisy/src/per/dac.h ****         ENABLED,
  66:../libDaisy/src/per/dac.h ****         DISABLED,
  67:../libDaisy/src/per/dac.h ****     };
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 33


  68:../libDaisy/src/per/dac.h **** 
  69:../libDaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../libDaisy/src/per/dac.h ****     struct Config
  71:../libDaisy/src/per/dac.h ****     {
  72:../libDaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../libDaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../libDaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../libDaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../libDaisy/src/per/dac.h ****         uint32_t target_samplerate;
  77:../libDaisy/src/per/dac.h **** 
  78:../libDaisy/src/per/dac.h ****         Channel     chn;
  79:../libDaisy/src/per/dac.h ****         Mode        mode;
  80:../libDaisy/src/per/dac.h ****         BitDepth    bitdepth;
  81:../libDaisy/src/per/dac.h ****         BufferState buff_state;
  82:../libDaisy/src/per/dac.h ****     };
  83:../libDaisy/src/per/dac.h **** 
  84:../libDaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 740              		.loc 10 84 5 is_stmt 1 view .LVU190
 741              	.LBB262:
 742              	.LBB263:
 743              		.loc 10 84 19 is_stmt 0 view .LVU191
 744 0026 0362     		str	r3, [r0, #32]
 745              	.LVL40:
 746              		.loc 10 84 19 view .LVU192
 747              	.LBE263:
 748              	.LBE262:
 749              	.LBE261:
 750              	.LBB264:
 751              	.LBI264:
  40:../libDaisy/src/hid/usb.h **** 
 752              		.loc 5 40 5 is_stmt 1 view .LVU193
  40:../libDaisy/src/hid/usb.h **** 
 753              		.loc 5 40 5 is_stmt 0 view .LVU194
 754              	.LBE264:
 755              	.LBB265:
 756              	.LBI265:
 757              		.file 11 "../libDaisy/src/per/gpio.h"
   1:../libDaisy/src/per/gpio.h **** #pragma once
   2:../libDaisy/src/per/gpio.h **** #ifndef DSY_GPIO_H
   3:../libDaisy/src/per/gpio.h **** #define DSY_GPIO_H
   4:../libDaisy/src/per/gpio.h **** #include "daisy_core.h"
   5:../libDaisy/src/per/gpio.h **** 
   6:../libDaisy/src/per/gpio.h **** #ifdef __cplusplus
   7:../libDaisy/src/per/gpio.h **** 
   8:../libDaisy/src/per/gpio.h **** namespace daisy
   9:../libDaisy/src/per/gpio.h **** {
  10:../libDaisy/src/per/gpio.h **** /** @brief General Purpose I/O control 
  11:../libDaisy/src/per/gpio.h ****  *  @details peripheral control over a single GPIO
  12:../libDaisy/src/per/gpio.h ****  *  @ingroup peripheral
  13:../libDaisy/src/per/gpio.h ****  *   
  14:../libDaisy/src/per/gpio.h ****  *  Button Input (with internal Pullup resistor)
  15:../libDaisy/src/per/gpio.h ****  *  @include GPIO_Input.cpp 
  16:../libDaisy/src/per/gpio.h ****  * 
  17:../libDaisy/src/per/gpio.h ****  *  Output Example (perfect for blinking an LED)
  18:../libDaisy/src/per/gpio.h ****  *  @include GPIO_Output.cpp
  19:../libDaisy/src/per/gpio.h ****  * 
  20:../libDaisy/src/per/gpio.h **** */
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 34


  21:../libDaisy/src/per/gpio.h **** class GPIO
  22:../libDaisy/src/per/gpio.h **** {
  23:../libDaisy/src/per/gpio.h ****   public:
  24:../libDaisy/src/per/gpio.h ****     /** @brief Mode of operation for the specified GPIO */
  25:../libDaisy/src/per/gpio.h ****     enum class Mode
  26:../libDaisy/src/per/gpio.h ****     {
  27:../libDaisy/src/per/gpio.h ****         INPUT,      /**< Input for reading state of pin */
  28:../libDaisy/src/per/gpio.h ****         OUTPUT,     /**< Output w/ push-pull configuration */
  29:../libDaisy/src/per/gpio.h ****         OPEN_DRAIN, /**< Output w/ open-drain configuration */
  30:../libDaisy/src/per/gpio.h ****         ANALOG,     /**< Analog for connection to ADC or DAC peripheral */
  31:../libDaisy/src/per/gpio.h ****     };
  32:../libDaisy/src/per/gpio.h **** 
  33:../libDaisy/src/per/gpio.h ****     /** @brief Configures whether an internal Pull up or Pull down resistor is used. 
  34:../libDaisy/src/per/gpio.h ****      *  
  35:../libDaisy/src/per/gpio.h ****      * Internal Pull up/down resistors are typically 40k ohms, and will be between
  36:../libDaisy/src/per/gpio.h ****      * 30k and 50k
  37:../libDaisy/src/per/gpio.h ****      * 
  38:../libDaisy/src/per/gpio.h ****      * When the Pin is configured in Analog mode, the pull up/down resistors are
  39:../libDaisy/src/per/gpio.h ****      * disabled by hardware. 
  40:../libDaisy/src/per/gpio.h ****      */
  41:../libDaisy/src/per/gpio.h ****     enum class Pull
  42:../libDaisy/src/per/gpio.h ****     {
  43:../libDaisy/src/per/gpio.h ****         NOPULL,   /**< No pull up resistor */
  44:../libDaisy/src/per/gpio.h ****         PULLUP,   /**< Internal pull up enabled */
  45:../libDaisy/src/per/gpio.h ****         PULLDOWN, /**< Internal pull down enabled*/
  46:../libDaisy/src/per/gpio.h ****     };
  47:../libDaisy/src/per/gpio.h **** 
  48:../libDaisy/src/per/gpio.h ****     /** @brief Output speed controls the drive strength, and slew rate of the pin */
  49:../libDaisy/src/per/gpio.h ****     enum class Speed
  50:../libDaisy/src/per/gpio.h ****     {
  51:../libDaisy/src/per/gpio.h ****         LOW,
  52:../libDaisy/src/per/gpio.h ****         MEDIUM,
  53:../libDaisy/src/per/gpio.h ****         HIGH,
  54:../libDaisy/src/per/gpio.h ****         VERY_HIGH,
  55:../libDaisy/src/per/gpio.h ****     };
  56:../libDaisy/src/per/gpio.h **** 
  57:../libDaisy/src/per/gpio.h ****     /** @brief Configuration for a given GPIO */
  58:../libDaisy/src/per/gpio.h ****     struct Config
  59:../libDaisy/src/per/gpio.h ****     {
  60:../libDaisy/src/per/gpio.h ****         Pin   pin;
  61:../libDaisy/src/per/gpio.h ****         Mode  mode;
  62:../libDaisy/src/per/gpio.h ****         Pull  pull;
  63:../libDaisy/src/per/gpio.h ****         Speed speed;
  64:../libDaisy/src/per/gpio.h **** 
  65:../libDaisy/src/per/gpio.h ****         /** Constructor with no arguments will prepare an invalid GPIO set as
  66:../libDaisy/src/per/gpio.h ****          *  an input, with no pullup. 
  67:../libDaisy/src/per/gpio.h ****          */
  68:../libDaisy/src/per/gpio.h ****         Config()
  69:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
  70:../libDaisy/src/per/gpio.h ****         {
  71:../libDaisy/src/per/gpio.h ****         }
  72:../libDaisy/src/per/gpio.h ****     };
  73:../libDaisy/src/per/gpio.h **** 
  74:../libDaisy/src/per/gpio.h ****     GPIO() {}
 758              		.loc 11 74 5 is_stmt 1 view .LVU195
 759              	.LBB266:
 760              	.LBB267:
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 35


 761              	.LBI267:
  68:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 762              		.loc 11 68 9 view .LVU196
 763              	.LBB268:
 764              	.LBB269:
 765              	.LBB270:
 766              	.LBI270:
 767              		.loc 9 204 15 view .LVU197
 768              	.LBB271:
 769              	.LBB272:
 770              		.loc 9 204 23 is_stmt 0 view .LVU198
 771 0028 80F82810 		strb	r1, [r0, #40]
 772              		.loc 9 204 36 view .LVU199
 773 002c 80F82920 		strb	r2, [r0, #41]
 774              	.LVL41:
 775              		.loc 9 204 36 view .LVU200
 776              	.LBE272:
 777              	.LBE271:
 778              	.LBE270:
  69:../libDaisy/src/per/gpio.h ****         {
 779              		.loc 11 69 18 view .LVU201
 780 0030 C362     		str	r3, [r0, #44]
  69:../libDaisy/src/per/gpio.h ****         {
 781              		.loc 11 69 37 view .LVU202
 782 0032 0363     		str	r3, [r0, #48]
  69:../libDaisy/src/per/gpio.h ****         {
 783              		.loc 11 69 57 view .LVU203
 784 0034 4363     		str	r3, [r0, #52]
 785              	.LVL42:
  69:../libDaisy/src/per/gpio.h ****         {
 786              		.loc 11 69 57 view .LVU204
 787              	.LBE269:
 788              	.LBE268:
 789              	.LBE267:
 790              	.LBE266:
 791              	.LBE265:
 792              	.LBB273:
 793              	.LBI273:
 794              		.loc 11 74 5 is_stmt 1 view .LVU205
 795              	.LBB274:
 796              	.LBB275:
 797              	.LBI275:
  68:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 798              		.loc 11 68 9 view .LVU206
 799              	.LBB276:
 800              	.LBB277:
 801              	.LBB278:
 802              	.LBI278:
 803              		.loc 9 204 15 view .LVU207
 804              	.LBB279:
 805              	.LBB280:
 806              		.loc 9 204 23 is_stmt 0 view .LVU208
 807 0036 80F83C10 		strb	r1, [r0, #60]
 808              		.loc 9 204 36 view .LVU209
 809 003a 80F83D20 		strb	r2, [r0, #61]
 810              	.LVL43:
 811              		.loc 9 204 36 view .LVU210
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 36


 812              	.LBE280:
 813              	.LBE279:
 814              	.LBE278:
  69:../libDaisy/src/per/gpio.h ****         {
 815              		.loc 11 69 18 view .LVU211
 816 003e 0364     		str	r3, [r0, #64]
  69:../libDaisy/src/per/gpio.h ****         {
 817              		.loc 11 69 37 view .LVU212
 818 0040 4364     		str	r3, [r0, #68]
  69:../libDaisy/src/per/gpio.h ****         {
 819              		.loc 11 69 57 view .LVU213
 820 0042 8364     		str	r3, [r0, #72]
 821              	.LVL44:
  69:../libDaisy/src/per/gpio.h ****         {
 822              		.loc 11 69 57 view .LVU214
 823              	.LBE277:
 824              	.LBE276:
 825              	.LBE275:
 826              	.LBE274:
 827              	.LBE273:
 828              	.LBB281:
 829              	.LBI281:
  96:../libDaisy/src/sys/system.h ****     ~System() {}
 830              		.loc 4 96 5 is_stmt 1 view .LVU215
  96:../libDaisy/src/sys/system.h ****     ~System() {}
 831              		.loc 4 96 5 is_stmt 0 view .LVU216
 832              	.LBE281:
 833              	.LBB282:
 834              	.LBI282:
  20:../libDaisy/src/dev/codec_ak4556.h ****     ~Ak4556() {}
 835              		.loc 3 20 5 is_stmt 1 view .LVU217
 836              	.LBB283:
 837              	.LBB284:
 838              	.LBI284:
 839              		.loc 11 74 5 view .LVU218
 840              	.LBB285:
 841              	.LBB286:
 842              	.LBI286:
  68:../libDaisy/src/per/gpio.h ****         : pin(), mode(Mode::INPUT), pull(Pull::NOPULL), speed(Speed::LOW)
 843              		.loc 11 68 9 view .LVU219
 844              	.LBB287:
 845              	.LBB288:
 846              	.LBB289:
 847              	.LBI289:
 848              		.loc 9 204 15 view .LVU220
 849              	.LBB290:
 850              	.LBB291:
 851              		.loc 9 204 23 is_stmt 0 view .LVU221
 852 0044 80F85810 		strb	r1, [r0, #88]
 853              		.loc 9 204 36 view .LVU222
 854 0048 80F85920 		strb	r2, [r0, #89]
 855              	.LVL45:
 856              		.loc 9 204 36 view .LVU223
 857              	.LBE291:
 858              	.LBE290:
 859              	.LBE289:
  69:../libDaisy/src/per/gpio.h ****         {
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 37


 860              		.loc 11 69 18 view .LVU224
 861 004c C365     		str	r3, [r0, #92]
  69:../libDaisy/src/per/gpio.h ****         {
 862              		.loc 11 69 37 view .LVU225
 863 004e 0366     		str	r3, [r0, #96]
  69:../libDaisy/src/per/gpio.h ****         {
 864              		.loc 11 69 57 view .LVU226
 865 0050 4366     		str	r3, [r0, #100]
 866              	.LVL46:
  69:../libDaisy/src/per/gpio.h ****         {
 867              		.loc 11 69 57 view .LVU227
 868              	.LBE288:
 869              	.LBE287:
 870              	.LBE286:
 871              	.LBE285:
 872              	.LBE284:
 873              	.LBE283:
 874              	.LBE282:
 875              	.LBB292:
 876              	.LBI292:
 877              		.file 12 "../libDaisy/src/per/sai.h"
   1:../libDaisy/src/per/sai.h **** #pragma once
   2:../libDaisy/src/per/sai.h **** #ifndef DSY_SAI_H
   3:../libDaisy/src/per/sai.h **** #define DSY_SAI_H
   4:../libDaisy/src/per/sai.h **** 
   5:../libDaisy/src/per/sai.h **** #include "util/hal_map.h"
   6:../libDaisy/src/per/sai.h **** #include "daisy_core.h"
   7:../libDaisy/src/per/sai.h **** 
   8:../libDaisy/src/per/sai.h **** namespace daisy
   9:../libDaisy/src/per/sai.h **** {
  10:../libDaisy/src/per/sai.h **** /** 
  11:../libDaisy/src/per/sai.h ****  * Support for I2S Audio Protocol with different bit-depth, samplerate options
  12:../libDaisy/src/per/sai.h ****  * Allows for master or slave, as well as freedom of selecting direction, 
  13:../libDaisy/src/per/sai.h ****  * and other behavior for each peripheral, and block.
  14:../libDaisy/src/per/sai.h ****  * 
  15:../libDaisy/src/per/sai.h ****  * DMA Transfer commands must use buffers located within non-cached memory or use cache maintenance
  16:../libDaisy/src/per/sai.h ****  * To declare an unitialized global element in the DMA memory section:
  17:../libDaisy/src/per/sai.h ****  *    int32_t DSY_DMA_BUFFER_SECTOR my_buffer[96];
  18:../libDaisy/src/per/sai.h ****  *
  19:../libDaisy/src/per/sai.h ****  * Callback functions will be called once per half of the buffer. In the above example, 
  20:../libDaisy/src/per/sai.h ****  * the callback function would be called once for every 48 samples.
  21:../libDaisy/src/per/sai.h ****  * 
  22:../libDaisy/src/per/sai.h ****  * Use SAI Handle like this:
  23:../libDaisy/src/per/sai.h ****  * 
  24:../libDaisy/src/per/sai.h ****  *  SaiHandle::Config sai_config;
  25:../libDaisy/src/per/sai.h ****  *  sai_config.periph          = SaiHandle::Config::Peripheral::SAI_1;
  26:../libDaisy/src/per/sai.h ****  *  sai_config.sr              = SaiHandle::Config::SampleRate::SAI_48KHZ;
  27:../libDaisy/src/per/sai.h ****  *  sai_config.bit_depth       = SaiHandle::Config::BitDepth::SAI_24BIT;
  28:../libDaisy/src/per/sai.h ****  *  sai_config.a_sync          = SaiHandle::Config::Sync::MASTER;
  29:../libDaisy/src/per/sai.h ****  *  sai_config.b_sync          = SaiHandle::Config::Sync::SLAVE;
  30:../libDaisy/src/per/sai.h ****  *  sai_config.a_dir           = SaiHandle::Config::Direction::RECEIVE;
  31:../libDaisy/src/per/sai.h ****  *  sai_config.b_dir           = SaiHandle::Config::Direction::TRANSMIT;
  32:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.fs   = {DSY_GPIOE, 4};
  33:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.mclk = {DSY_GPIOE, 2};
  34:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sck  = {DSY_GPIOE, 5};
  35:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sa   = {DSY_GPIOE, 6};
  36:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sb   = {DSY_GPIOE, 3};
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 38


  37:../libDaisy/src/per/sai.h ****  *  // Then Initialize
  38:../libDaisy/src/per/sai.h ****  *  SaiHandle sai;
  39:../libDaisy/src/per/sai.h ****  *  sai.Init(sai_config);
  40:../libDaisy/src/per/sai.h ****  *  // Now you can use it:
  41:../libDaisy/src/per/sai.h ****  *  sai.StartDma(. . .);
  42:../libDaisy/src/per/sai.h ****  */
  43:../libDaisy/src/per/sai.h **** class SaiHandle
  44:../libDaisy/src/per/sai.h **** {
  45:../libDaisy/src/per/sai.h ****   public:
  46:../libDaisy/src/per/sai.h ****     /** Contains settings for initialising an SAI Interface */
  47:../libDaisy/src/per/sai.h ****     struct Config
  48:../libDaisy/src/per/sai.h ****     {
  49:../libDaisy/src/per/sai.h ****         /** Specifies the internal peripheral to use (mapped to different hardware pins) */
  50:../libDaisy/src/per/sai.h ****         enum class Peripheral
  51:../libDaisy/src/per/sai.h ****         {
  52:../libDaisy/src/per/sai.h ****             SAI_1,
  53:../libDaisy/src/per/sai.h ****             SAI_2,
  54:../libDaisy/src/per/sai.h ****         };
  55:../libDaisy/src/per/sai.h **** 
  56:../libDaisy/src/per/sai.h ****         /** Rate at which samples will be streaming to/from the device. */
  57:../libDaisy/src/per/sai.h ****         enum class SampleRate
  58:../libDaisy/src/per/sai.h ****         {
  59:../libDaisy/src/per/sai.h ****             SAI_8KHZ,
  60:../libDaisy/src/per/sai.h ****             SAI_16KHZ,
  61:../libDaisy/src/per/sai.h ****             SAI_32KHZ,
  62:../libDaisy/src/per/sai.h ****             SAI_48KHZ,
  63:../libDaisy/src/per/sai.h ****             SAI_96KHZ,
  64:../libDaisy/src/per/sai.h ****         };
  65:../libDaisy/src/per/sai.h **** 
  66:../libDaisy/src/per/sai.h ****         /** Bit Depth that the hardware expects to be transferred to/from the device. */
  67:../libDaisy/src/per/sai.h ****         enum class BitDepth
  68:../libDaisy/src/per/sai.h ****         {
  69:../libDaisy/src/per/sai.h ****             SAI_16BIT,
  70:../libDaisy/src/per/sai.h ****             SAI_24BIT,
  71:../libDaisy/src/per/sai.h ****             SAI_32BIT,
  72:../libDaisy/src/per/sai.h ****         };
  73:../libDaisy/src/per/sai.h **** 
  74:../libDaisy/src/per/sai.h ****         /** Specifies whether a particular block is the master or the slave 
  75:../libDaisy/src/per/sai.h ****          ** If both are set to slave, no MCLK signal will be used, and it is
  76:../libDaisy/src/per/sai.h ****          ** expected that the codec will have its own xtal.
  77:../libDaisy/src/per/sai.h ****          */
  78:../libDaisy/src/per/sai.h ****         enum class Sync
  79:../libDaisy/src/per/sai.h ****         {
  80:../libDaisy/src/per/sai.h ****             MASTER,
  81:../libDaisy/src/per/sai.h ****             SLAVE,
  82:../libDaisy/src/per/sai.h ****         };
  83:../libDaisy/src/per/sai.h **** 
  84:../libDaisy/src/per/sai.h ****         /** Specifies the direction for each peripheral block. */
  85:../libDaisy/src/per/sai.h ****         enum class Direction
  86:../libDaisy/src/per/sai.h ****         {
  87:../libDaisy/src/per/sai.h ****             TRANSMIT,
  88:../libDaisy/src/per/sai.h ****             RECEIVE,
  89:../libDaisy/src/per/sai.h ****         };
  90:../libDaisy/src/per/sai.h **** 
  91:../libDaisy/src/per/sai.h ****         Peripheral periph;
  92:../libDaisy/src/per/sai.h ****         struct
  93:../libDaisy/src/per/sai.h ****         {
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 39


  94:../libDaisy/src/per/sai.h ****             Pin mclk, fs, sck, sa, sb;
  95:../libDaisy/src/per/sai.h ****         } pin_config;
  96:../libDaisy/src/per/sai.h ****         SampleRate sr;
  97:../libDaisy/src/per/sai.h ****         BitDepth   bit_depth;
  98:../libDaisy/src/per/sai.h ****         Sync       a_sync, b_sync;
  99:../libDaisy/src/per/sai.h ****         Direction  a_dir, b_dir;
 100:../libDaisy/src/per/sai.h ****     };
 101:../libDaisy/src/per/sai.h **** 
 102:../libDaisy/src/per/sai.h ****     /** Return values for SAI functions */
 103:../libDaisy/src/per/sai.h ****     enum class Result
 104:../libDaisy/src/per/sai.h ****     {
 105:../libDaisy/src/per/sai.h ****         OK,
 106:../libDaisy/src/per/sai.h ****         ERR,
 107:../libDaisy/src/per/sai.h ****     };
 108:../libDaisy/src/per/sai.h **** 
 109:../libDaisy/src/per/sai.h ****     SaiHandle() : pimpl_(nullptr) {}
 878              		.loc 12 109 5 is_stmt 1 view .LVU228
 879              	.LBB293:
 880              	.LBB294:
 881              		.loc 12 109 19 is_stmt 0 view .LVU229
 882 0052 0367     		str	r3, [r0, #112]
 883              	.LVL47:
 884              		.loc 12 109 19 view .LVU230
 885              	.LBE294:
 886              	.LBE293:
 887              	.LBE292:
 888              	.LBE233:
 889              	.LBE232:
  12:main.cpp      **** DaisySeed		hw;
 890              		.loc 1 12 12 view .LVU231
 891 0054 034A     		ldr	r2, .L27+4
 892 0056 0449     		ldr	r1, .L27+8
 893 0058 FFF7FEFF 		bl	__aeabi_atexit
 894              	.LVL48:
  12:main.cpp      **** DaisySeed		hw;
 895              		.loc 1 12 12 view .LVU232
 896              	.LBE231:
 897              	.LBE230:
 898              		.loc 1 147 1 view .LVU233
 899 005c 08BD     		pop	{r3, pc}
 900              	.L28:
 901 005e 00BF     		.align	2
 902              	.L27:
 903 0060 00000000 		.word	hw
 904 0064 00000000 		.word	__dso_handle
 905 0068 00000000 		.word	_ZN5daisy9DaisySeedD1Ev
 906              		.cfi_endproc
 907              	.LFE2470:
 909              		.section	.init_array,"aw",%init_array
 910              		.align	2
 911 0000 00000000 		.word	_GLOBAL__sub_I_hw(target1)
 912              		.global	flag
 913              		.section	.bss.flag,"aw",%nobits
 916              	flag:
 917 0000 00       		.space	1
 918              		.global	vtempbuff
 919              		.section	.bss.vtempbuff,"aw",%nobits
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 40


 920              		.align	2
 923              	vtempbuff:
 924 0000 00000000 		.space	20
 924      00000000 
 924      00000000 
 924      00000000 
 924      00000000 
 925              		.global	hdma_adc3
 926              		.section	.bss.hdma_adc3,"aw",%nobits
 927              		.align	2
 930              	hdma_adc3:
 931 0000 00000000 		.space	120
 931      00000000 
 931      00000000 
 931      00000000 
 931      00000000 
 932              		.global	hadc3
 933              		.section	.bss.hadc3,"aw",%nobits
 934              		.align	2
 937              	hadc3:
 938 0000 00000000 		.space	100
 938      00000000 
 938      00000000 
 938      00000000 
 938      00000000 
 939              		.global	hw
 940              		.section	.bss.hw,"aw",%nobits
 941              		.align	2
 944              	hw:
 945 0000 00000000 		.space	116
 945      00000000 
 945      00000000 
 945      00000000 
 945      00000000 
 946              		.text
 947              	.Letext0:
 948              		.file 13 "../libDaisy/Drivers/CMSIS-Device/ST/STM32H7xx/Include/stm32h750xx.h"
 949              		.file 14 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 950              		.file 15 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 951              		.file 16 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 952              		.file 17 "../libDaisy/Drivers/CMSIS-Device/ST/STM32H7xx/Include/stm32h7xx.h"
 953              		.file 18 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/i
 954              		.file 19 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 955              		.file 20 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 956              		.file 21 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 957              		.file 22 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 958              		.file 23 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 959              		.file 24 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 960              		.file 25 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 961              		.file 26 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 962              		.file 27 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 963              		.file 28 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 964              		.file 29 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 965              		.file 30 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 966              		.file 31 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 967              		.file 32 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 968              		.file 33 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 41


 969              		.file 34 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 970              		.file 35 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 971              		.file 36 "../libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 972              		.file 37 "../libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 973              		.file 38 "../libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_adc.h"
 974              		.file 39 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 975              		.file 40 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 976              		.file 41 "../libDaisy/src/hid/logger_impl.h"
 977              		.file 42 "../libDaisy/src/util/wav_format.h"
 978              		.file 43 "../libDaisy/src/dev/sr_595.h"
 979              		.file 44 "../libDaisy/src/dev/max11300.h"
 980              		.file 45 "../libDaisy/src/hid/logger.h"
 981              		.file 46 "../libDaisy/src/dev/sdram.h"
 982              		.file 47 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/i
 983              		.file 48 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 984              		.file 49 "C:\\ST\\STM32CubeCLT_1.16.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/.
 985              		.file 50 "../libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_cortex.h"
 986              		.file 51 "../libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_adc_ex.h"
 987              		.file 52 "<built-in>"
ARM GAS  C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s 			page 42


DEFINED SYMBOLS
                            *ABS*:00000000 main.cpp
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:20     .text._ZN5daisy9DaisySeedD2Ev:00000000 $t
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:26     .text._ZN5daisy9DaisySeedD2Ev:00000000 _ZN5daisy9DaisySeedD2Ev
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:26     .text._ZN5daisy9DaisySeedD2Ev:00000000 _ZN5daisy9DaisySeedD1Ev
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:73     .rodata.main.str1.4:00000000 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:80     .text.main:00000000 $t
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:86     .text.main:00000000 main
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:353    .text.main:00000124 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:944    .bss.hw:00000000 hw
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:937    .bss.hadc3:00000000 hadc3
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:923    .bss.vtempbuff:00000000 vtempbuff
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:367    .text.HAL_ADC_MspInit:00000000 $t
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:373    .text.HAL_ADC_MspInit:00000000 HAL_ADC_MspInit
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:424    .text.HAL_ADC_MspInit:00000034 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:429    .text.DMA2_Stream0_IRQHandler:00000000 $t
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:435    .text.DMA2_Stream0_IRQHandler:00000000 DMA2_Stream0_IRQHandler
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:455    .text.DMA2_Stream0_IRQHandler:0000000c $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:930    .bss.hdma_adc3:00000000 hdma_adc3
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:460    .text.HAL_ADC_ConvCpltCallback:00000000 $t
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:466    .text.HAL_ADC_ConvCpltCallback:00000000 HAL_ADC_ConvCpltCallback
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:510    .text.HAL_ADC_ConvCpltCallback:00000024 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:916    .bss.flag:00000000 flag
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:517    .text.HAL_Injected_ConvCpltCallback:00000000 $t
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:523    .text.HAL_Injected_ConvCpltCallback:00000000 HAL_Injected_ConvCpltCallback
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:544    .text.HAL_ADC_ErrorCallback:00000000 $t
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:550    .text.HAL_ADC_ErrorCallback:00000000 HAL_ADC_ErrorCallback
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:581    .text.HAL_ADC_ErrorCallback:00000010 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:586    .text._GLOBAL__sub_I_hw:00000000 $t
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:591    .text._GLOBAL__sub_I_hw:00000000 _GLOBAL__sub_I_hw
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:903    .text._GLOBAL__sub_I_hw:00000060 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:910    .init_array:00000000 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:917    .bss.flag:00000000 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:920    .bss.vtempbuff:00000000 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:927    .bss.hdma_adc3:00000000 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:934    .bss.hadc3:00000000 $d
C:\Users\loren\AppData\Local\Temp\ccRtXr5N.s:941    .bss.hw:00000000 $d
                           .group:00000000 _ZN5daisy9DaisySeedD5Ev

UNDEFINED SYMBOLS
_ZN5daisy9DaisySeed4InitEb
HAL_ADC_Init
HAL_ADCEx_Calibration_Start
HAL_ADC_ConfigChannel
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
HAL_ADC_Start
HAL_ADC_GetValue
_ZN5daisy9DaisySeed6SetLedEb
_ZN5daisy9DaisySeed7DelayMsEj
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_DMA_IRQHandler
__aeabi_atexit
__dso_handle
